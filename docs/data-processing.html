<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lysbeth Koster">
<meta name="author" content="Alemarie Ceria">
<meta name="dcterms.date" content="2024-02-28">

<title>Nomilo Fishpond Case Study – Data Processing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">

<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>



</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Nomilo Fishpond Case Study</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./data-processing.html" aria-current="page"> 
<span class="menu-text">Data Processing</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data-explorer-dashboard.html"> 
<span class="menu-text">Data Explorer Dashboard</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Steps:</h2>
   
  <ul>
  <li><a href="#helper-functions" id="toc-helper-functions" class="nav-link active" data-scroll-target="#helper-functions">Helper Functions</a></li>
  <li><a href="#data-importation" id="toc-data-importation" class="nav-link" data-scroll-target="#data-importation">Data Importation</a>
  <ul class="collapse">
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources">Data Sources</a></li>
  <li><a href="#procedure" id="toc-procedure" class="nav-link" data-scroll-target="#procedure">Procedure</a></li>
  </ul></li>
  <li><a href="#data-tidying" id="toc-data-tidying" class="nav-link" data-scroll-target="#data-tidying">Data Tidying</a></li>
  <li><a href="#data-exportation" id="toc-data-exportation" class="nav-link" data-scroll-target="#data-exportation">Data Exportation</a>
  <ul class="collapse">
  <li><a href="#exporting-processed-data" id="toc-exporting-processed-data" class="nav-link" data-scroll-target="#exporting-processed-data">Exporting Processed Data</a></li>
  <li><a href="#generating-data-dictionaries" id="toc-generating-data-dictionaries" class="nav-link" data-scroll-target="#generating-data-dictionaries">Generating Data Dictionaries</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p><br> <img src=".\www/logos/uhm-logo.png" class="img-fluid"> <br><br> <img src=".\www/logos/pac-risa-logo.png" class="img-fluid"> <br><br> <img src=".\www/logos/ksf-logo.png" class="img-fluid"> <br><br></p>
</div></div>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Processing</h1>
</div>



<div class="quarto-title-meta column-body">

    <div>
    <div class="quarto-title-meta-heading">Authors</div>
    <div class="quarto-title-meta-contents">
             <p>Lysbeth Koster </p>
             <p>Alemarie Ceria </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 28, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="helper-functions" class="level2">
<h2 class="anchored" data-anchor-id="helper-functions">Helper Functions</h2>
<div class="cell">
<details class="code-fold">
<summary>Function to load XLSX file to a large list</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>load_xlsx_files_to_list <span class="ot">&lt;-</span> <span class="cf">function</span>(dir_path) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  fs<span class="sc">::</span><span class="fu">dir_ls</span>(<span class="at">path =</span> dir_path) <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">keep</span>(<span class="fu">str_detect</span>(., <span class="st">".xlsx$"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(<span class="at">nm =</span> <span class="sc">~</span> <span class="fu">gsub</span>(<span class="st">"data/raw/2024-02-28_|</span><span class="sc">\\</span><span class="st">.xlsx$|</span><span class="sc">\\</span><span class="st">.xls$"</span>, <span class="st">""</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(import_list) <span class="sc">%&gt;%</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(<span class="sc">~</span> <span class="fu">gsub</span>(<span class="st">"-"</span>, <span class="st">"_"</span>, .)) <span class="sc">%&gt;%</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span> <span class="fu">set_names</span>(.x, <span class="fu">gsub</span>(<span class="st">"-"</span>, <span class="st">"_"</span>, <span class="fu">names</span>(.x)))) <span class="sc">%&gt;%</span> </span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map</span>(<span class="sc">~</span> <span class="fu">set_names</span>(.x, <span class="fu">gsub</span>(<span class="st">" "</span>, <span class="st">"_"</span>, <span class="fu">tolower</span>(<span class="fu">names</span>(.x)))))</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Function to export large list of dataframes to a RData file for more efficient data loading</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>export_to_rdata <span class="ot">&lt;-</span> <span class="cf">function</span>(dfs_list, dir_path) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  current_date <span class="ot">&lt;-</span> <span class="fu">format</span>(<span class="fu">Sys.Date</span>(), <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">save</span>(dfs_list, <span class="at">file =</span> <span class="fu">paste0</span>(dir_path, current_date, <span class="st">"_dfs.RData"</span>))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Function to load specific Excel sheets for each dataset</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>load_xlsx_sheet <span class="ot">&lt;-</span> <span class="cf">function</span>(dfs_list, df, sheet) {</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  dfs_list <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pluck</span>(df, sheet)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Function to export data object to CSV</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>export_to_csv <span class="ot">&lt;-</span> <span class="cf">function</span>(df, df_name, dir_path) {</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  current_date <span class="ot">&lt;-</span> <span class="fu">format</span>(<span class="fu">Sys.Date</span>(), <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  file_name <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"_"</span>, <span class="st">"-"</span>, df_name)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  full_file_path <span class="ot">&lt;-</span> <span class="fu">paste0</span>(dir_path, <span class="st">"/"</span>, current_date, <span class="st">"_"</span>, file_name, <span class="st">".csv"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write.csv</span>(df, full_file_path, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-importation" class="level2">
<h2 class="anchored" data-anchor-id="data-importation">Data Importation</h2>
<section id="data-sources" class="level3">
<h3 class="anchored" data-anchor-id="data-sources">Data Sources</h3>
<table class="table">
<colgroup>
<col style="width: 27%">
<col style="width: 27%">
<col style="width: 44%">
</colgroup>
<thead>
<tr class="header">
<th>Data Producer</th>
<th>Dataset</th>
<th>Dataset Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lysbeth</td>
<td>Water Samples</td>
<td>Measurements to represent the biogeochemical dynamics of Nomilo Fishpond</td>
</tr>
<tr class="even">
<td>Lysbeth</td>
<td>Water Profiles</td>
<td>Measurements of basic physical water quality indicators</td>
</tr>
<tr class="odd">
<td>Kauaʻi Sea Farm</td>
<td>Clam Growth</td>
<td>Growth and harvest data of clams at Nomilo fishpond gathered by Kauai Sea Farm</td>
</tr>
<tr class="even">
<td>Kauaʻi Sea Farm</td>
<td>Oyster Growth</td>
<td>Growth and harvest data of the <em>Mercenaria mercenaria</em> clams and <em>Crassostrea gigas</em> oysters at Nomilo fishpond gathered by Kauai Sea Farm</td>
</tr>
<tr class="odd">
<td>Kauaʻi Sea Farm</td>
<td>Weather</td>
<td>Meteorological measurements and weather data reports that were kept on-site by Kauai Sea Farm accessed through weather.kauaiseafarm.com</td>
</tr>
<tr class="even">
<td>Kauaʻi Sea Farm</td>
<td>Kauaʻi Sea Farm Compiled Data</td>
<td>Various daily water quality metrics at the surface level (approximately 0.5m) at the Production Dock location of Nomilo fishpond measured by Kauai Sea Farm</td>
</tr>
</tbody>
</table>
</section>
<section id="procedure" class="level3">
<h3 class="anchored" data-anchor-id="procedure">Procedure</h3>
<div class="cell">
<details class="code-fold">
<summary>Step 1: Efficiently install packages and load libraries</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">"pacman"</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)) {</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  renv, </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  yaml, </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  rmarkdown, </span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  rio, </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  tidyverse, </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  janitor, </span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  lubridate, </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  fs,</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  hms, </span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  zoo, </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  kableExtra, </span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>  ggplot2, </span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  shiny, </span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  rsconnect, </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>  packrat, </span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>  plotly, </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  htmlwidgets</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Expand To Learn When to Run Step 2a
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Run when there is new raw data added. Since the following code chunk is slow to execute, run step 2b.</p>
<div class="cell">
<details class="code-fold">
<summary>Step 2a: Load all XLSX files into a large dataframe list and clean dataframe and sheet names then export as an .RData file</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>dfs <span class="ot">&lt;-</span> <span class="fu">slowly_load_xlsx_files_to_list</span>(<span class="st">"data/raw"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">export_to_rdata</span>(dfs, <span class="st">"data/raw/rdata-files/"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Step 2b: Efficiently load all dataframes into a large list</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>base<span class="sc">::</span><span class="fu">load</span>(<span class="st">"data/raw/rdata-files/2024-05-05_dfs.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Step 3: Load the specific Excel sheet of each dataframe and store in their respective data objects</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>water_samples_data <span class="ot">&lt;-</span> <span class="fu">load_xlsx_sheet</span>(dfs_list, <span class="st">"water_samples"</span>, <span class="st">"data_overview"</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>water_profiles_data <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(<span class="fu">c</span>(<span class="st">"l1"</span>, <span class="st">"l2"</span>, <span class="st">"l3"</span>, <span class="st">"l4"</span>), <span class="sc">~</span> dfs_list<span class="sc">$</span>profile_data[[.x]])</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>clam_growth_data <span class="ot">&lt;-</span> <span class="fu">load_xlsx_sheet</span>(dfs_list, <span class="st">"ksf_clam_growth"</span>, <span class="st">"sheet1"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>oyster_growth_data <span class="ot">&lt;-</span> <span class="fu">load_xlsx_sheet</span>(dfs_list, <span class="st">"ksf_oyster_cylinder_growth"</span>, <span class="st">"sheet1"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>weather_data <span class="ot">&lt;-</span> <span class="fu">load_xlsx_sheet</span>(dfs_list, <span class="st">"weather_data"</span>, <span class="st">"weather_ksf"</span>)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>ksf_data <span class="ot">&lt;-</span> <span class="fu">load_xlsx_sheet</span>(dfs_list, <span class="st">"ksf_compiled_data"</span>, <span class="st">"full_data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="data-tidying" class="level2">
<h2 class="anchored" data-anchor-id="data-tidying">Data Tidying</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Water Samples</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Water Profiles</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Clam Growth</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Oyster Growth</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false">Weather Data</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false">Kauaʻi Sea Farm Data</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<details class="code-fold">
<summary><i>Steps to clean data</i></summary>
<div class="sourceCode cell-code" id="annotated-cell-10"><pre class="sourceCode r code-annotation-code code-with-copy"><code class="sourceCode r"><span id="annotated-cell-10-1"><a href="#annotated-cell-10-1" aria-hidden="true" tabindex="-1"></a>water_samples_data_tidied <span class="ot">&lt;-</span> water_samples_data <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-10-2"><a href="#annotated-cell-10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="dv">44</span><span class="sc">:</span><span class="dv">52</span>)) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-10-3"><a href="#annotated-cell-10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">s*</span><span class="sc">\\</span><span class="st">([^</span><span class="sc">\\</span><span class="st">)]+</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, .x)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-10-4"><a href="#annotated-cell-10-4" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-10-5"><a href="#annotated-cell-10-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="annotated-cell-10-6"><a href="#annotated-cell-10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> <span class="fu">if_else</span>(date <span class="sc">==</span> <span class="st">"44074"</span>,</span>
<span id="annotated-cell-10-7"><a href="#annotated-cell-10-7" aria-hidden="true" tabindex="-1"></a>            <span class="fu">as.character</span>(<span class="fu">as.Date</span>(<span class="st">"2024-01-09"</span>)),</span>
<span id="annotated-cell-10-8"><a href="#annotated-cell-10-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">format</span>(<span class="fu">dmy</span>(date), <span class="st">"%Y-%m-%d"</span>))</span>
<span id="annotated-cell-10-9"><a href="#annotated-cell-10-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-10-10"><a href="#annotated-cell-10-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sample_id =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(.)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-10-11"><a href="#annotated-cell-10-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date),</span>
<span id="annotated-cell-10-12"><a href="#annotated-cell-10-12" aria-hidden="true" tabindex="-1"></a>         <span class="fu">across</span>(<span class="fu">c</span>(nomilo_id, location, round, depth), as.factor)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-10-13"><a href="#annotated-cell-10-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(sample_id, nomilo_id, tube_name)) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-10-14"><a href="#annotated-cell-10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">location =</span> <span class="fu">str_to_title</span>(location)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-10-15"><a href="#annotated-cell-10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">location =</span> <span class="fu">factor</span>(location, </span>
<span id="annotated-cell-10-16"><a href="#annotated-cell-10-16" aria-hidden="true" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Mid Buoy"</span>, <span class="st">"Back Buoy"</span>, <span class="st">"Auwai"</span>, <span class="st">"Production Dock"</span>))) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-10-17"><a href="#annotated-cell-10-17" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(location))</span>
<span id="annotated-cell-10-18"><a href="#annotated-cell-10-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-10-19"><a href="#annotated-cell-10-19" aria-hidden="true" tabindex="-1"></a><span class="fu">paged_table</span>(water_samples_data_tidied)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["round"],"name":[1],"type":["fct"],"align":["left"]},{"label":["date"],"name":[2],"type":["date"],"align":["right"]},{"label":["location"],"name":[3],"type":["fct"],"align":["left"]},{"label":["depth"],"name":[4],"type":["fct"],"align":["left"]},{"label":["chlorophyll_a"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["phosphate"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["silicate"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["nitrate_nitrite"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["ammonia"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["heterotrophic_bacteria"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["large_phytoplankton"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["synechococcus_population_1"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["synechococcus_population_2"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["prochlorococcus"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["lysbeths_mystery_cells_events"],"name":[15],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"2023-11-28","3":"Back Buoy","4":"4","5":"2.040000","6":"0.13600807","7":"19.5326275","8":"0.3528616","9":"0.55166377","10":"6759867","11":"45316.67","12":"1832883.3","13":"82200.00","14":"73166.67","15":"16700.000"},{"1":"1","2":"2023-11-28","3":"Back Buoy","4":"0.5","5":"0.267500","6":"0.17255382","7":"27.4258032","8":"1.0698290","9":"0.07597219","10":"6491183","11":"34983.33","12":"1684616.7","13":"72350.00","14":"54250.00","15":"13266.667"},{"1":"1","2":"2023-11-28","3":"Mid Buoy","4":"7.5","5":"5.595000","6":"0.06973097","7":"26.2353278","8":"0.9459511","9":"3.26856533","10":"7585817","11":"78016.67","12":"1846716.7","13":"235600.00","14":"197316.67","15":"17050.000"},{"1":"1","2":"2023-11-28","3":"Mid Buoy","4":"4","5":"3.450000","6":"0.13656815","7":"19.9848870","8":"0.9999809","9":"1.09342869","10":"6778517","11":"32400.00","12":"1813683.3","13":"78166.67","14":"63916.67","15":"17400.000"},{"1":"1","2":"2023-11-28","3":"Mid Buoy","4":"0.5","5":"2.580000","6":"0.05745571","7":"25.0277592","8":"1.1635951","9":"0.11344209","10":"6064683","11":"29983.33","12":"1564583.3","13":"66050.00","14":"46066.67","15":"13716.667"},{"1":"1","2":"2023-11-28","3":"Production Dock","4":"2.75","5":"2.415000","6":"0.06123630","7":"23.8579382","8":"1.1957081","9":"0.32313991","10":"5856783","11":"28450.00","12":"1384566.7","13":"60383.33","14":"45783.33","15":"11733.333"},{"1":"1","2":"2023-11-28","3":"Production Dock","4":"0.5","5":"2.760000","6":"0.08293972","7":"24.2824212","8":"1.6090793","9":"0.47799929","10":"5806383","11":"20600.00","12":"1467483.3","13":"63850.00","14":"38333.33","15":"8516.667"},{"1":"2","2":"2023-12-21","3":"Back Buoy","4":"4","5":"5.769231","6":"0.04877434","7":"19.5493646","8":"0.7459359","9":"0.17575021","10":"NA","11":"NA","12":"NA","13":"NA","14":"NA","15":"NA"},{"1":"2","2":"2023-12-21","3":"Back Buoy","4":"0.5","5":"4.824000","6":"0.18384893","7":"23.0908775","8":"1.1846544","9":"0.50490231","10":"NA","11":"NA","12":"NA","13":"NA","14":"NA","15":"NA"},{"1":"2","2":"2023-12-21","3":"Mid Buoy","4":"7.5","5":"5.271429","6":"0.51486100","7":"28.8997420","8":"0.9221284","9":"5.71759052","10":"NA","11":"NA","12":"NA","13":"NA","14":"NA","15":"NA"},{"1":"2","2":"2023-12-21","3":"Mid Buoy","4":"4","5":"4.130769","6":"0.13932192","7":"19.2701745","8":"0.8718149","9":"0.12255442","10":"NA","11":"NA","12":"NA","13":"NA","14":"NA","15":"NA"},{"1":"2","2":"2023-12-21","3":"Mid Buoy","4":"0.5","5":"3.675000","6":"0.05792245","7":"18.9689055","8":"0.7087725","9":"0.40063033","10":"NA","11":"NA","12":"NA","13":"NA","14":"NA","15":"NA"},{"1":"2","2":"2023-12-21","3":"Production Dock","4":"2.75","5":"4.260000","6":"0.05115472","7":"17.8425299","8":"0.7480322","9":"0.22172220","10":"NA","11":"NA","12":"NA","13":"NA","14":"NA","15":"NA"},{"1":"2","2":"2023-12-21","3":"Production Dock","4":"0.5","5":"2.400000","6":"0.10123593","7":"24.2866945","8":"1.1875131","9":"0.46476033","10":"NA","11":"NA","12":"NA","13":"NA","14":"NA","15":"NA"},{"1":"3","2":"2024-01-09","3":"Back Buoy","4":"4","5":"2.550000","6":"0.05152811","7":"19.5404619","8":"1.0370490","9":"0.02000000","10":"6318600","11":"67933.33","12":"1518700.0","13":"366416.67","14":"349666.67","15":"12333.333"},{"1":"3","2":"2024-01-09","3":"Back Buoy","4":"0.5","5":"3.270000","6":"0.05684894","7":"17.4187592","8":"0.7917707","9":"0.02000000","10":"6339433","11":"50033.33","12":"1804333.3","13":"286566.67","14":"246900.00","15":"19933.333"},{"1":"3","2":"2024-01-09","3":"Mid Buoy","4":"7.5","5":"1.575000","6":"0.19509736","7":"25.4091529","8":"5.6672257","9":"4.67262371","10":"7871467","11":"61950.00","12":"946383.3","13":"328833.33","14":"192883.33","15":"11566.667"},{"1":"3","2":"2024-01-09","3":"Mid Buoy","4":"4","5":"5.895000","6":"0.13740829","7":"22.6396863","8":"1.1984715","9":"0.02610996","10":"7039000","11":"53650.00","12":"1760550.0","13":"384266.67","14":"182800.00","15":"15850.000"},{"1":"3","2":"2024-01-09","3":"Mid Buoy","4":"0.5","5":"1.465500","6":"0.07178463","7":"20.6095038","8":"1.1533990","9":"0.22190438","10":"6885800","11":"51916.67","12":"1897200.0","13":"354833.33","14":"147883.33","15":"22000.000"},{"1":"3","2":"2024-01-09","3":"Production Dock","4":"2.75","5":"2.460000","6":"0.06207643","7":"19.4272190","8":"0.9248918","9":"0.07439323","10":"7084033","11":"55450.00","12":"1810100.0","13":"408900.00","14":"92633.33","15":"16633.333"},{"1":"3","2":"2024-01-09","3":"Production Dock","4":"0.5","5":"3.060000","6":"0.06044284","7":"16.9422841","8":"0.8971622","9":"0.15194438","10":"6566067","11":"52566.67","12":"1846866.7","13":"372216.67","14":"110083.33","15":"21483.333"},{"1":"4","2":"2024-01-30","3":"Back Buoy","4":"4","5":"8.250000","6":"0.08126811","7":"8.1647034","8":"1.3841097","9":"1.19912193","10":"5190583","11":"74183.33","12":"331850.0","13":"73533.33","14":"92866.67","15":"8766.667"},{"1":"4","2":"2024-01-30","3":"Back Buoy","4":"0.5","5":"1.890000","6":"0.02681205","7":"0.9256767","8":"0.7925396","9":"1.03059399","10":"5011567","11":"42950.00","12":"492283.3","13":"111100.00","14":"76083.33","15":"12883.333"},{"1":"4","2":"2024-01-30","3":"Mid Buoy","4":"7.5","5":"5.614286","6":"0.20800209","7":"20.2002296","8":"1.3624295","9":"12.45426518","10":"5380017","11":"52266.67","12":"202683.3","13":"59800.00","14":"146466.67","15":"5783.333"},{"1":"4","2":"2024-01-30","3":"Mid Buoy","4":"4","5":"5.115000","6":"0.03808378","7":"4.1769603","8":"1.4485932","9":"1.36983612","10":"5294200","11":"43966.67","12":"408700.0","13":"42733.33","14":"82000.00","15":"10166.667"},{"1":"4","2":"2024-01-30","3":"Mid Buoy","4":"0.5","5":"0.874500","6":"0.03934598","7":"1.7472320","8":"1.3419278","9":"2.66165467","10":"4841383","11":"34216.67","12":"294966.7","13":"132900.00","14":"64583.33","15":"10700.000"},{"1":"4","2":"2024-01-30","3":"Production Dock","4":"2.75","5":"0.422500","6":"0.07216040","7":"5.8934056","8":"1.3497695","9":"0.46110945","10":"4522967","11":"33083.33","12":"322566.7","13":"30566.67","14":"41483.33","15":"7983.333"},{"1":"4","2":"2024-01-30","3":"Production Dock","4":"0.5","5":"0.113000","6":"0.04456542","7":"2.3131539","8":"1.1483429","9":"1.01310406","10":"4902783","11":"35333.33","12":"292400.0","13":"84133.33","14":"59033.33","15":"9233.333"},{"1":"5","2":"2024-02-20","3":"Back Buoy","4":"4","5":"NA","6":"NA","7":"NA","8":"NA","9":"NA","10":"4884383","11":"159716.67","12":"497833.3","13":"50833.33","14":"55983.33","15":"57900.000"},{"1":"5","2":"2024-02-20","3":"Back Buoy","4":"0.5","5":"NA","6":"NA","7":"NA","8":"NA","9":"NA","10":"4640233","11":"142633.33","12":"464333.3","13":"26983.33","14":"40183.33","15":"53950.000"},{"1":"5","2":"2024-02-20","3":"Mid Buoy","4":"7.5","5":"NA","6":"NA","7":"NA","8":"NA","9":"NA","10":"4806167","11":"161933.33","12":"503583.3","13":"53450.00","14":"57000.00","15":"75033.333"},{"1":"5","2":"2024-02-20","3":"Mid Buoy","4":"4","5":"NA","6":"NA","7":"NA","8":"NA","9":"NA","10":"4779267","11":"156000.00","12":"465766.7","13":"32750.00","14":"49750.00","15":"64750.000"},{"1":"5","2":"2024-02-20","3":"Mid Buoy","4":"0.5","5":"NA","6":"NA","7":"NA","8":"NA","9":"NA","10":"4518700","11":"150366.67","12":"426166.7","13":"28700.00","14":"40833.33","15":"55950.000"},{"1":"5","2":"2024-02-20","3":"Production Dock","4":"2.75","5":"NA","6":"NA","7":"NA","8":"NA","9":"NA","10":"4391250","11":"122633.33","12":"395633.3","13":"26750.00","14":"39033.33","15":"48166.667"},{"1":"5","2":"2024-02-20","3":"Production Dock","4":"0.5","5":"NA","6":"NA","7":"NA","8":"NA","9":"NA","10":"4476067","11":"128250.00","12":"403866.7","13":"27533.33","14":"36900.00","15":"53116.667"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<details class="code-fold">
<summary><i>Steps to clean data</i></summary>
<div class="sourceCode cell-code" id="annotated-cell-11"><pre class="sourceCode r code-annotation-code code-with-copy"><code class="sourceCode r"><span id="annotated-cell-11-1"><a href="#annotated-cell-11-1" aria-hidden="true" tabindex="-1"></a>new_profile_var_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"depth"</span>, <span class="st">"water_temperature"</span>, <span class="st">"dissolved_oxygen"</span>, <span class="st">"salinity"</span>, <span class="st">"conductivity"</span>, <span class="st">"visibility"</span>, <span class="st">"location"</span>, <span class="st">"date"</span>)</span>
<span id="annotated-cell-11-2"><a href="#annotated-cell-11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-11-3"><a href="#annotated-cell-11-3" aria-hidden="true" tabindex="-1"></a>water_profiles_data_tidied <span class="ot">&lt;-</span> water_profiles_data <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-4"><a href="#annotated-cell-11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="dv">6</span>, <span class="dv">8</span>)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-5"><a href="#annotated-cell-11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="annotated-cell-11-6"><a href="#annotated-cell-11-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">temp_column1 =</span> <span class="cn">NA_character_</span>,</span>
<span id="annotated-cell-11-7"><a href="#annotated-cell-11-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">temp_column2 =</span> <span class="cn">NA_character_</span></span>
<span id="annotated-cell-11-8"><a href="#annotated-cell-11-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-9"><a href="#annotated-cell-11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(new_profile_var_names) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-10"><a href="#annotated-cell-11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="annotated-cell-11-11"><a href="#annotated-cell-11-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">location =</span> <span class="fu">ifelse</span>(depth <span class="sc">==</span> <span class="st">"Location"</span>, water_temperature, <span class="cn">NA_character_</span>), </span>
<span id="annotated-cell-11-12"><a href="#annotated-cell-11-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> <span class="fu">ifelse</span>(depth <span class="sc">==</span> <span class="st">"Date"</span>,  water_temperature, <span class="cn">NA_character_</span>)</span>
<span id="annotated-cell-11-13"><a href="#annotated-cell-11-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-14"><a href="#annotated-cell-11-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(location, date, <span class="at">.direction =</span> <span class="st">"down"</span>) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-15"><a href="#annotated-cell-11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(depth <span class="sc">!=</span> <span class="st">"Location"</span>, depth <span class="sc">!=</span> <span class="st">"Date"</span>) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-16"><a href="#annotated-cell-11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="annotated-cell-11-17"><a href="#annotated-cell-11-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">location =</span> <span class="fu">case_when</span>(</span>
<span id="annotated-cell-11-18"><a href="#annotated-cell-11-18" aria-hidden="true" tabindex="-1"></a>      location <span class="sc">==</span> <span class="st">"L1 Northwest buoy"</span> <span class="sc">~</span> <span class="st">"back buoy"</span>,</span>
<span id="annotated-cell-11-19"><a href="#annotated-cell-11-19" aria-hidden="true" tabindex="-1"></a>      location <span class="sc">==</span> <span class="st">"L2 Middle Buoy"</span> <span class="sc">~</span> <span class="st">"mid buoy"</span>,</span>
<span id="annotated-cell-11-20"><a href="#annotated-cell-11-20" aria-hidden="true" tabindex="-1"></a>      location <span class="sc">==</span> <span class="st">"L3 Production Dock"</span> <span class="sc">~</span> <span class="st">"production dock"</span>,</span>
<span id="annotated-cell-11-21"><a href="#annotated-cell-11-21" aria-hidden="true" tabindex="-1"></a>      location <span class="sc">==</span> <span class="st">"L4 Auwai"</span> <span class="sc">~</span> <span class="st">"Auwai"</span>,</span>
<span id="annotated-cell-11-22"><a href="#annotated-cell-11-22" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> location</span>
<span id="annotated-cell-11-23"><a href="#annotated-cell-11-23" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="annotated-cell-11-24"><a href="#annotated-cell-11-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> <span class="fu">case_when</span>(</span>
<span id="annotated-cell-11-25"><a href="#annotated-cell-11-25" aria-hidden="true" tabindex="-1"></a>      date <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"45258"</span>, <span class="st">"2023-11-28"</span>) <span class="sc">~</span> <span class="st">"2023-11-28"</span>,</span>
<span id="annotated-cell-11-26"><a href="#annotated-cell-11-26" aria-hidden="true" tabindex="-1"></a>      date <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"45282"</span>, <span class="st">"2023-12-21"</span>) <span class="sc">~</span> <span class="st">"2023-12-21"</span>,</span>
<span id="annotated-cell-11-27"><a href="#annotated-cell-11-27" aria-hidden="true" tabindex="-1"></a>      date <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"45536"</span>, <span class="st">"2024-01-09"</span>) <span class="sc">~</span> <span class="st">"2024-01-09"</span>,</span>
<span id="annotated-cell-11-28"><a href="#annotated-cell-11-28" aria-hidden="true" tabindex="-1"></a>      date <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"30/1/24"</span>, <span class="st">"30/01/24"</span>) <span class="sc">~</span> <span class="st">"2024-01-30"</span>,</span>
<span id="annotated-cell-11-29"><a href="#annotated-cell-11-29" aria-hidden="true" tabindex="-1"></a>      date <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"20/02/24"</span>, <span class="st">"20/2/24"</span>) <span class="sc">~</span> <span class="st">"2024-02-20"</span>,</span>
<span id="annotated-cell-11-30"><a href="#annotated-cell-11-30" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> date</span>
<span id="annotated-cell-11-31"><a href="#annotated-cell-11-31" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-32"><a href="#annotated-cell-11-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="annotated-cell-11-33"><a href="#annotated-cell-11-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> <span class="fu">as.Date</span>(date, <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>),</span>
<span id="annotated-cell-11-34"><a href="#annotated-cell-11-34" aria-hidden="true" tabindex="-1"></a>     <span class="at">conductivity =</span> <span class="fu">case_when</span>(</span>
<span id="annotated-cell-11-35"><a href="#annotated-cell-11-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">row_number</span>() <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">11</span>, <span class="dv">53</span><span class="sc">:</span><span class="dv">62</span>, <span class="dv">128</span><span class="sc">:</span><span class="dv">133</span>, <span class="dv">159</span><span class="sc">:</span><span class="dv">161</span>) <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="annotated-cell-11-36"><a href="#annotated-cell-11-36" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(conductivity)</span>
<span id="annotated-cell-11-37"><a href="#annotated-cell-11-37" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="annotated-cell-11-38"><a href="#annotated-cell-11-38" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-39"><a href="#annotated-cell-11-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(depth <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Samples"</span>, <span class="st">"Depth"</span>))) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-40"><a href="#annotated-cell-11-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date),</span>
<span id="annotated-cell-11-41"><a href="#annotated-cell-11-41" aria-hidden="true" tabindex="-1"></a>         <span class="fu">across</span>(<span class="fu">c</span>(depth, location), as.factor),</span>
<span id="annotated-cell-11-42"><a href="#annotated-cell-11-42" aria-hidden="true" tabindex="-1"></a>         <span class="fu">across</span>(<span class="fu">c</span>(water_temperature,  dissolved_oxygen, salinity, </span>
<span id="annotated-cell-11-43"><a href="#annotated-cell-11-43" aria-hidden="true" tabindex="-1"></a>                  conductivity,visibility),  as.numeric)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-44"><a href="#annotated-cell-11-44" aria-hidden="true" tabindex="-1"></a>   <span class="fu">fill</span>(visibility, <span class="at">.direction =</span> <span class="st">"down"</span>) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-45"><a href="#annotated-cell-11-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">visibility =</span> <span class="fu">if_else</span>(date <span class="sc">==</span> <span class="st">"2023-11-28"</span>,  <span class="cn">NA_real_</span>, visibility)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-46"><a href="#annotated-cell-11-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">location =</span> <span class="fu">str_to_title</span>(location)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-11-47"><a href="#annotated-cell-11-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">location =</span> <span class="fu">factor</span>(location, </span>
<span id="annotated-cell-11-48"><a href="#annotated-cell-11-48" aria-hidden="true" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Mid Buoy"</span>, <span class="st">"Back Buoy"</span>, <span class="st">"Auwai"</span>, <span class="st">"Production Dock"</span>))) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-11-49"><a href="#annotated-cell-11-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">conductivity =</span> <span class="fu">coalesce</span>(conductivity, salinity)) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-11-50"><a href="#annotated-cell-11-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"salinity1"</span> <span class="ot">=</span> salinity,</span>
<span id="annotated-cell-11-51"><a href="#annotated-cell-11-51" aria-hidden="true" tabindex="-1"></a>         <span class="st">"salinity"</span> <span class="ot">=</span> conductivity) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-11-52"><a href="#annotated-cell-11-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>salinity1)</span>
<span id="annotated-cell-11-53"><a href="#annotated-cell-11-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-11-54"><a href="#annotated-cell-11-54" aria-hidden="true" tabindex="-1"></a><span class="fu">paged_table</span>(water_profiles_data_tidied)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["depth"],"name":[1],"type":["fct"],"align":["left"]},{"label":["water_temperature"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["dissolved_oxygen"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["salinity"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["visibility"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["location"],"name":[6],"type":["fct"],"align":["left"]},{"label":["date"],"name":[7],"type":["date"],"align":["right"]}],"data":[{"1":"4.5","2":"25.2","3":"7.91","4":"52.915","5":"NA","6":"Back Buoy","7":"2023-11-28"},{"1":"4","2":"25.2","3":"7.88","4":"52.914","5":"NA","6":"Back Buoy","7":"2023-11-28"},{"1":"3.5","2":"25.2","3":"7.99","4":"52.916","5":"NA","6":"Back Buoy","7":"2023-11-28"},{"1":"3","2":"25.2","3":"8.15","4":"52.916","5":"NA","6":"Back Buoy","7":"2023-11-28"},{"1":"2.5","2":"25.2","3":"8.33","4":"52.915","5":"NA","6":"Back Buoy","7":"2023-11-28"},{"1":"2","2":"25.2","3":"8.41","4":"52.870","5":"NA","6":"Back Buoy","7":"2023-11-28"},{"1":"1.5","2":"25.2","3":"8.69","4":"52.853","5":"NA","6":"Back Buoy","7":"2023-11-28"},{"1":"1","2":"25.2","3":"8.82","4":"52.793","5":"NA","6":"Back Buoy","7":"2023-11-28"},{"1":"0.5","2":"25.1","3":"8.75","4":"52.462","5":"NA","6":"Back Buoy","7":"2023-11-28"},{"1":"4.5","2":"23.5","3":"0.85","4":"39.100","5":"4.5","6":"Back Buoy","7":"2023-12-21"},{"1":"4","2":"23.4","3":"6.20","4":"38.200","5":"4.5","6":"Back Buoy","7":"2023-12-21"},{"1":"3.5","2":"23.4","3":"6.83","4":"38.200","5":"4.5","6":"Back Buoy","7":"2023-12-21"},{"1":"3","2":"23.4","3":"7.80","4":"38.300","5":"4.5","6":"Back Buoy","7":"2023-12-21"},{"1":"2.5","2":"23.4","3":"8.09","4":"38.400","5":"4.5","6":"Back Buoy","7":"2023-12-21"},{"1":"2","2":"23.4","3":"8.20","4":"38.400","5":"4.5","6":"Back Buoy","7":"2023-12-21"},{"1":"1.5","2":"23.3","3":"8.75","4":"38.500","5":"4.5","6":"Back Buoy","7":"2023-12-21"},{"1":"1","2":"23.1","3":"8.73","4":"50.400","5":"4.5","6":"Back Buoy","7":"2023-12-21"},{"1":"0.5","2":"22.9","3":"8.72","4":"50.000","5":"4.5","6":"Back Buoy","7":"2023-12-21"},{"1":"4.5","2":"24.4","3":"0.50","4":"38.100","5":"4.5","6":"Back Buoy","7":"2024-01-09"},{"1":"4","2":"24.4","3":"0.85","4":"38.400","5":"4.5","6":"Back Buoy","7":"2024-01-09"},{"1":"3.5","2":"24.7","3":"7.25","4":"38.900","5":"4.5","6":"Back Buoy","7":"2024-01-09"},{"1":"3","2":"24.7","3":"8.24","4":"39.000","5":"4.5","6":"Back Buoy","7":"2024-01-09"},{"1":"2.5","2":"24.6","3":"8.75","4":"39.100","5":"4.5","6":"Back Buoy","7":"2024-01-09"},{"1":"2","2":"24.6","3":"8.80","4":"39.300","5":"4.5","6":"Back Buoy","7":"2024-01-09"},{"1":"1.5","2":"24.6","3":"8.83","4":"39.400","5":"4.5","6":"Back Buoy","7":"2024-01-09"},{"1":"1","2":"24.6","3":"8.85","4":"39.700","5":"4.5","6":"Back Buoy","7":"2024-01-09"},{"1":"0.5","2":"24.5","3":"8.87","4":"39.800","5":"4.5","6":"Back Buoy","7":"2024-01-09"},{"1":"4.5","2":"25.3","3":"0.51","4":"41.100","5":"6.0","6":"Back Buoy","7":"2024-01-30"},{"1":"4","2":"25.0","3":"4.48","4":"41.200","5":"6.0","6":"Back Buoy","7":"2024-01-30"},{"1":"3.5","2":"25.1","3":"7.50","4":"41.300","5":"6.0","6":"Back Buoy","7":"2024-01-30"},{"1":"3","2":"25.2","3":"8.50","4":"41.500","5":"6.0","6":"Back Buoy","7":"2024-01-30"},{"1":"2.5","2":"25.0","3":"8.60","4":"41.800","5":"6.0","6":"Back Buoy","7":"2024-01-30"},{"1":"2","2":"25.0","3":"8.82","4":"42.200","5":"6.0","6":"Back Buoy","7":"2024-01-30"},{"1":"1.5","2":"25.0","3":"9.39","4":"42.500","5":"6.0","6":"Back Buoy","7":"2024-01-30"},{"1":"1","2":"25.0","3":"9.67","4":"43.300","5":"6.0","6":"Back Buoy","7":"2024-01-30"},{"1":"0.5","2":"25.1","3":"9.58","4":"43.400","5":"6.0","6":"Back Buoy","7":"2024-01-30"},{"1":"4.5","2":"23.2","3":"9.00","4":"51.800","5":"4.0","6":"Back Buoy","7":"2024-02-20"},{"1":"4","2":"23.3","3":"9.02","4":"51.800","5":"4.0","6":"Back Buoy","7":"2024-02-20"},{"1":"3.5","2":"23.1","3":"9.30","4":"51.900","5":"4.0","6":"Back Buoy","7":"2024-02-20"},{"1":"3","2":"23.1","3":"9.60","4":"52.000","5":"4.0","6":"Back Buoy","7":"2024-02-20"},{"1":"2.5","2":"23.2","3":"9.70","4":"52.000","5":"4.0","6":"Back Buoy","7":"2024-02-20"},{"1":"2","2":"23.7","3":"9.97","4":"52.100","5":"4.0","6":"Back Buoy","7":"2024-02-20"},{"1":"1.5","2":"23.9","3":"10.00","4":"52.200","5":"4.0","6":"Back Buoy","7":"2024-02-20"},{"1":"1","2":"24.0","3":"9.95","4":"52.200","5":"4.0","6":"Back Buoy","7":"2024-02-20"},{"1":"0.5","2":"24.2","3":"9.90","4":"52.200","5":"4.0","6":"Back Buoy","7":"2024-02-20"},{"1":"4.5","2":"25.2","3":"8.09","4":"52.877","5":"NA","6":"Mid Buoy","7":"2023-11-28"},{"1":"4","2":"25.2","3":"8.09","4":"52.900","5":"NA","6":"Mid Buoy","7":"2023-11-28"},{"1":"3.5","2":"25.2","3":"8.24","4":"52.915","5":"NA","6":"Mid Buoy","7":"2023-11-28"},{"1":"3","2":"25.2","3":"8.42","4":"52.915","5":"NA","6":"Mid Buoy","7":"2023-11-28"},{"1":"2.5","2":"25.2","3":"8.58","4":"52.925","5":"NA","6":"Mid Buoy","7":"2023-11-28"},{"1":"2","2":"25.3","3":"8.60","4":"52.945","5":"NA","6":"Mid Buoy","7":"2023-11-28"},{"1":"1.5","2":"25.3","3":"8.70","4":"52.942","5":"NA","6":"Mid Buoy","7":"2023-11-28"},{"1":"1","2":"25.3","3":"8.84","4":"52.880","5":"NA","6":"Mid Buoy","7":"2023-11-28"},{"1":"0.5","2":"25.2","3":"8.95","4":"52.775","5":"NA","6":"Mid Buoy","7":"2023-11-28"},{"1":"7.5","2":"23.7","3":"0.34","4":"42.800","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"7","2":"23.4","3":"7.50","4":"42.700","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"6.5","2":"23.3","3":"7.65","4":"43.200","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"6","2":"23.3","3":"7.73","4":"44.100","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"5.5","2":"23.3","3":"7.75","4":"44.500","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"5","2":"23.3","3":"7.83","4":"45.000","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"4.5","2":"23.3","3":"7.86","4":"51.400","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"4","2":"23.3","3":"8.03","4":"51.300","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"3.5","2":"23.3","3":"8.22","4":"51.300","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"3","2":"23.3","3":"8.50","4":"51.300","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"2.5","2":"23.3","3":"8.80","4":"51.200","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"2","2":"23.1","3":"8.72","4":"50.800","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"1.5","2":"22.9","3":"8.88","4":"50.020","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"1","2":"22.8","3":"8.98","4":"50.100","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"0.5","2":"22.8","3":"9.03","4":"50.100","5":"4.5","6":"Mid Buoy","7":"2023-12-21"},{"1":"7.5","2":"24.0","3":"4.05","4":"51.400","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"7","2":"24.0","3":"4.82","4":"51.500","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"6.5","2":"24.0","3":"5.22","4":"51.500","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"6","2":"24.0","3":"5.85","4":"51.500","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"5.5","2":"24.0","3":"5.83","4":"51.500","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"5","2":"24.2","3":"6.87","4":"51.500","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"4.5","2":"24.3","3":"7.40","4":"51.500","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"4","2":"24.4","3":"7.89","4":"51.500","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"3.5","2":"24.4","3":"8.19","4":"51.200","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"3","2":"24.4","3":"8.33","4":"51.000","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"2.5","2":"24.4","3":"8.37","4":"50.900","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"2","2":"24.4","3":"8.47","4":"50.900","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"1.5","2":"24.4","3":"8.53","4":"50.900","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"1","2":"24.4","3":"8.48","4":"50.900","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"0.5","2":"24.5","3":"8.64","4":"50.900","5":"5.0","6":"Mid Buoy","7":"2024-01-09"},{"1":"7.5","2":"25.2","3":"0.34","4":"41.200","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"7","2":"24.9","3":"1.90","4":"42.200","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"6.5","2":"24.8","3":"2.55","4":"42.500","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"6","2":"24.8","3":"3.60","4":"42.700","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"5.5","2":"24.8","3":"4.43","4":"43.100","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"5","2":"24.9","3":"5.49","4":"44.100","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"4.5","2":"24.9","3":"6.33","4":"44.800","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"4","2":"25.0","3":"6.74","4":"45.900","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"3.5","2":"25.0","3":"7.51","4":"49.200","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"3","2":"25.1","3":"8.41","4":"50.800","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"2.5","2":"25.2","3":"8.93","4":"51.000","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"2","2":"25.3","3":"9.15","4":"51.100","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"1.5","2":"25.2","3":"9.35","4":"51.000","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"1","2":"25.2","3":"9.61","4":"51.000","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"0.5","2":"25.3","3":"9.51","4":"51.000","5":"6.0","6":"Mid Buoy","7":"2024-01-30"},{"1":"7.5","2":"23.2","3":"0.40","4":"52.200","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"7","2":"23.2","3":"7.50","4":"52.200","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"6.5","2":"23.2","3":"8.00","4":"52.200","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"6","2":"23.2","3":"8.20","4":"52.500","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"5.5","2":"23.2","3":"8.50","4":"52.500","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"5","2":"23.2","3":"8.80","4":"52.500","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"4.5","2":"23.1","3":"9.00","4":"52.500","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"4","2":"23.0","3":"9.30","4":"52.500","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"3.5","2":"23.0","3":"9.50","4":"52.500","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"3","2":"23.0","3":"9.60","4":"52.500","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"2.5","2":"22.9","3":"9.70","4":"52.500","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"2","2":"23.0","3":"20.00","4":"52.500","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"1.5","2":"23.0","3":"10.10","4":"52.500","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"1","2":"23.1","3":"10.10","4":"52.700","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"0.5","2":"23.2","3":"10.30","4":"52.700","5":"4.0","6":"Mid Buoy","7":"2024-02-20"},{"1":"2.5","2":"25.3","3":"7.77","4":"52.950","5":"NA","6":"Production Dock","7":"2023-11-28"},{"1":"2","2":"25.3","3":"7.82","4":"52.966","5":"NA","6":"Production Dock","7":"2023-11-28"},{"1":"1.5","2":"25.3","3":"8.30","4":"52.940","5":"NA","6":"Production Dock","7":"2023-11-28"},{"1":"1","2":"25.3","3":"8.36","4":"52.930","5":"NA","6":"Production Dock","7":"2023-11-28"},{"1":"0.5","2":"25.2","3":"8.57","4":"48.300","5":"NA","6":"Production Dock","7":"2023-11-28"},{"1":"2.5","2":"22.7","3":"7.00","4":"50.200","5":"4.0","6":"Production Dock","7":"2023-12-21"},{"1":"2","2":"22.7","3":"9.02","4":"50.200","5":"4.0","6":"Production Dock","7":"2023-12-21"},{"1":"1.5","2":"22.7","3":"9.08","4":"50.200","5":"4.0","6":"Production Dock","7":"2023-12-21"},{"1":"1","2":"22.7","3":"9.12","4":"50.200","5":"4.0","6":"Production Dock","7":"2023-12-21"},{"1":"0.5","2":"22.7","3":"9.40","4":"50.100","5":"4.5","6":"Production Dock","7":"2023-12-21"},{"1":"2.5","2":"24.5","3":"8.43","4":"50.900","5":"4.5","6":"Production Dock","7":"2024-01-09"},{"1":"2","2":"24.5","3":"8.50","4":"50.800","5":"4.5","6":"Production Dock","7":"2024-01-09"},{"1":"1.5","2":"24.5","3":"8.76","4":"50.700","5":"4.5","6":"Production Dock","7":"2024-01-09"},{"1":"1","2":"24.5","3":"8.97","4":"50.700","5":"4.5","6":"Production Dock","7":"2024-01-09"},{"1":"0.5","2":"24.5","3":"9.03","4":"50.700","5":"4.5","6":"Production Dock","7":"2024-01-09"},{"1":"2.5","2":"25.3","3":"8.37","4":"51.200","5":"4.0","6":"Production Dock","7":"2024-01-30"},{"1":"2","2":"25.3","3":"8.52","4":"51.200","5":"4.0","6":"Production Dock","7":"2024-01-30"},{"1":"1.5","2":"25.3","3":"9.08","4":"51.200","5":"4.0","6":"Production Dock","7":"2024-01-30"},{"1":"1","2":"25.6","3":"9.29","4":"50.800","5":"4.0","6":"Production Dock","7":"2024-01-30"},{"1":"0.5","2":"25.5","3":"9.40","4":"50.900","5":"4.0","6":"Production Dock","7":"2024-01-30"},{"1":"2.5","2":"23.3","3":"10.30","4":"52.300","5":"4.5","6":"Production Dock","7":"2024-02-20"},{"1":"2","2":"23.4","3":"10.30","4":"52.300","5":"4.5","6":"Production Dock","7":"2024-02-20"},{"1":"1.5","2":"23.4","3":"10.10","4":"52.200","5":"4.5","6":"Production Dock","7":"2024-02-20"},{"1":"1","2":"23.8","3":"10.10","4":"52.200","5":"4.5","6":"Production Dock","7":"2024-02-20"},{"1":"0.5","2":"23.9","3":"10.00","4":"52.200","5":"4.5","6":"Production Dock","7":"2024-02-20"},{"1":"1","2":"24.7","3":"9.12","4":"50.300","5":"NA","6":"Auwai","7":"2023-11-28"},{"1":"0.5","2":"24.7","3":"9.09","4":"50.000","5":"NA","6":"Auwai","7":"2023-11-28"},{"1":"1","2":"22.9","3":"11.99","4":"50.000","5":"4.5","6":"Auwai","7":"2023-12-21"},{"1":"0.5","2":"22.9","3":"9.85","4":"50.000","5":"4.5","6":"Auwai","7":"2023-12-21"},{"1":"1","2":"24.5","3":"9.00","4":"50.800","5":"4.5","6":"Auwai","7":"2024-01-09"},{"1":"0.5","2":"24.5","3":"9.09","4":"50.700","5":"4.5","6":"Auwai","7":"2024-01-09"},{"1":"1","2":"25.3","3":"8.90","4":"51.100","5":"4.5","6":"Auwai","7":"2024-01-30"},{"1":"0.5","2":"25.3","3":"9.48","4":"50.900","5":"4.5","6":"Auwai","7":"2024-01-30"},{"1":"1","2":"23.8","3":"10.00","4":"52.000","5":"4.5","6":"Auwai","7":"2024-02-20"},{"1":"0.5","2":"24.0","3":"10.30","4":"52.900","5":"4.5","6":"Auwai","7":"2024-02-20"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell">
<details class="code-fold">
<summary><i>Steps to clean data</i></summary>
<div class="sourceCode cell-code" id="annotated-cell-12"><pre class="sourceCode r code-annotation-code code-with-copy"><code class="sourceCode r"><span id="annotated-cell-12-1"><a href="#annotated-cell-12-1" aria-hidden="true" tabindex="-1"></a>new_clam_var_names <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="annotated-cell-12-2"><a href="#annotated-cell-12-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"sort_date"</span>, <span class="st">"color"</span>, <span class="st">"clams_in_count"</span>, <span class="st">"clams_in_lbs"</span>,  <span class="st">"clams_in_avg_per_lb"</span>,</span>
<span id="annotated-cell-12-3"><a href="#annotated-cell-12-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"clams_out_count"</span>, <span class="st">"clams_out_lbs"</span>, <span class="st">"clams_out_avg_per_lb"</span>, <span class="st">"growth_in_lbs"</span>, </span>
<span id="annotated-cell-12-4"><a href="#annotated-cell-12-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"growth_pct"</span>, <span class="st">"sr"</span>, <span class="st">"days_btwn_sort"</span></span>
<span id="annotated-cell-12-5"><a href="#annotated-cell-12-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="annotated-cell-12-6"><a href="#annotated-cell-12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-12-7"><a href="#annotated-cell-12-7" aria-hidden="true" tabindex="-1"></a>new_clam_date_col <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="annotated-cell-12-8"><a href="#annotated-cell-12-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2023-10-17"</span>, <span class="st">"2023-12-06"</span>, <span class="st">"2023-12-12"</span>, <span class="st">"2024-01-02"</span>,  <span class="st">"2024-01-10"</span>,</span>
<span id="annotated-cell-12-9"><a href="#annotated-cell-12-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2024-01-24"</span>, <span class="st">"2024-01-31"</span>, <span class="st">"2024-02-08"</span>, <span class="st">"2024-02-13"</span>, <span class="st">"2024-02-07"</span>,</span>
<span id="annotated-cell-12-10"><a href="#annotated-cell-12-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"2024-02-13"</span>, <span class="st">"2024-03-14"</span>, <span class="st">"2024-03-19"</span></span>
<span id="annotated-cell-12-11"><a href="#annotated-cell-12-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="annotated-cell-12-12"><a href="#annotated-cell-12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-12-13"><a href="#annotated-cell-12-13" aria-hidden="true" tabindex="-1"></a>clam_growth_data_tidied <span class="ot">&lt;-</span> clam_growth_data <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-14"><a href="#annotated-cell-12-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-15"><a href="#annotated-cell-12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(new_clam_var_names) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-16"><a href="#annotated-cell-12-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(new_clam_date_col)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-17"><a href="#annotated-cell-12-17" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>sort_date) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-18"><a href="#annotated-cell-12-18" aria-hidden="true" tabindex="-1"></a>   <span class="fu">pivot_longer</span>(</span>
<span id="annotated-cell-12-19"><a href="#annotated-cell-12-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(</span>
<span id="annotated-cell-12-20"><a href="#annotated-cell-12-20" aria-hidden="true" tabindex="-1"></a>      clams_in_count, clams_in_lbs, clams_in_avg_per_lb,   clams_out_count, </span>
<span id="annotated-cell-12-21"><a href="#annotated-cell-12-21" aria-hidden="true" tabindex="-1"></a>      clams_out_lbs, clams_out_avg_per_lb</span>
<span id="annotated-cell-12-22"><a href="#annotated-cell-12-22" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="annotated-cell-12-23"><a href="#annotated-cell-12-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"stage"</span>, <span class="st">".value"</span>),</span>
<span id="annotated-cell-12-24"><a href="#annotated-cell-12-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_prefix =</span> <span class="st">"clams_"</span>,</span>
<span id="annotated-cell-12-25"><a href="#annotated-cell-12-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="annotated-cell-12-26"><a href="#annotated-cell-12-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="annotated-cell-12-27"><a href="#annotated-cell-12-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-28"><a href="#annotated-cell-12-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">stage =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(stage, <span class="st">"in"</span>), <span class="st">"In"</span>, <span class="st">"Out"</span>)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-29"><a href="#annotated-cell-12-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">avg_per_lbs =</span> avg) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-30"><a href="#annotated-cell-12-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(color, stage), as.factor)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-31"><a href="#annotated-cell-12-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(count, lbs, avg_per_lbs, growth_in_lbs, growth_pct, sr),</span>
<span id="annotated-cell-12-32"><a href="#annotated-cell-12-32" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span><span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"%"</span>, <span class="st">""</span>, .)))) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-33"><a href="#annotated-cell-12-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date, color, stage) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-34"><a href="#annotated-cell-12-34" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(date, days_btwn_sort, color, stage, count, lbs, avg_per_lbs,</span>
<span id="annotated-cell-12-35"><a href="#annotated-cell-12-35" aria-hidden="true" tabindex="-1"></a>                growth_in_lbs, growth_pct, sr) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-36"><a href="#annotated-cell-12-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"days_btwn_clams_sort"</span> <span class="ot">=</span> days_btwn_sort,</span>
<span id="annotated-cell-12-37"><a href="#annotated-cell-12-37" aria-hidden="true" tabindex="-1"></a>         <span class="st">"clams_color"</span> <span class="ot">=</span> color,</span>
<span id="annotated-cell-12-38"><a href="#annotated-cell-12-38" aria-hidden="true" tabindex="-1"></a>         <span class="st">"clams_stage"</span> <span class="ot">=</span> stage,</span>
<span id="annotated-cell-12-39"><a href="#annotated-cell-12-39" aria-hidden="true" tabindex="-1"></a>         <span class="st">"clams_count"</span> <span class="ot">=</span> count,</span>
<span id="annotated-cell-12-40"><a href="#annotated-cell-12-40" aria-hidden="true" tabindex="-1"></a>         <span class="st">"weight"</span> <span class="ot">=</span> lbs,</span>
<span id="annotated-cell-12-41"><a href="#annotated-cell-12-41" aria-hidden="true" tabindex="-1"></a>         <span class="st">"avg_weight"</span> <span class="ot">=</span> avg_per_lbs,</span>
<span id="annotated-cell-12-42"><a href="#annotated-cell-12-42" aria-hidden="true" tabindex="-1"></a>         <span class="st">"clams_growth"</span> <span class="ot">=</span> growth_in_lbs,</span>
<span id="annotated-cell-12-43"><a href="#annotated-cell-12-43" aria-hidden="true" tabindex="-1"></a>         <span class="st">"clams_sr"</span> <span class="ot">=</span> sr, </span>
<span id="annotated-cell-12-44"><a href="#annotated-cell-12-44" aria-hidden="true" tabindex="-1"></a>          <span class="st">"date_out"</span> <span class="ot">=</span> date</span>
<span id="annotated-cell-12-45"><a href="#annotated-cell-12-45" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-12-46"><a href="#annotated-cell-12-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">date_in =</span> date_out <span class="sc">-</span> days_btwn_clams_sort) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-47"><a href="#annotated-cell-12-47" aria-hidden="true" tabindex="-1"></a><span class="fu">relocate</span>(<span class="fu">c</span>(date_in, date_out), <span class="at">.before =</span> days_btwn_clams_sort) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-12-48"><a href="#annotated-cell-12-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="annotated-cell-12-49"><a href="#annotated-cell-12-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> <span class="fu">case_when</span>(</span>
<span id="annotated-cell-12-50"><a href="#annotated-cell-12-50" aria-hidden="true" tabindex="-1"></a>      clams_stage <span class="sc">==</span> <span class="st">'In'</span> <span class="sc">~</span> date_in,</span>
<span id="annotated-cell-12-51"><a href="#annotated-cell-12-51" aria-hidden="true" tabindex="-1"></a>      clams_stage <span class="sc">==</span> <span class="st">'Out'</span> <span class="sc">~</span> date_out</span>
<span id="annotated-cell-12-52"><a href="#annotated-cell-12-52" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="annotated-cell-12-53"><a href="#annotated-cell-12-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-12-54"><a href="#annotated-cell-12-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>date_in, <span class="sc">-</span>date_out) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-12-55"><a href="#annotated-cell-12-55" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">grouping_variable =</span> <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">:</span>(<span class="fu">n</span>() <span class="sc">/</span> <span class="dv">2</span>), <span class="at">each =</span> <span class="dv">2</span>))</span>
<span id="annotated-cell-12-56"><a href="#annotated-cell-12-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-12-57"><a href="#annotated-cell-12-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-12-58"><a href="#annotated-cell-12-58" aria-hidden="true" tabindex="-1"></a><span class="fu">paged_table</span>(clam_growth_data_tidied)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["days_btwn_clams_sort"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["clams_color"],"name":[2],"type":["fct"],"align":["left"]},{"label":["clams_stage"],"name":[3],"type":["fct"],"align":["left"]},{"label":["clams_count"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["weight"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["avg_weight"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["clams_growth"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["growth_pct"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["clams_sr"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["date"],"name":[10],"type":["date"],"align":["right"]},{"label":["grouping_variable"],"name":[11],"type":["int"],"align":["right"]}],"data":[{"1":"34","2":"Blue","3":"In","4":"9600.000","5":"211.45374","6":"45.40000","7":"20.506608","8":"0.09697917","9":"0.7816292","10":"2023-09-13","11":"1"},{"1":"34","2":"Blue","3":"Out","4":"7503.640","5":"231.96035","6":"35.48767","7":"20.506608","8":"0.09697917","9":"0.7816292","10":"2023-10-17","11":"1"},{"1":"85","2":"Yellow","3":"In","4":"9600.000","5":"52.86344","6":"181.60000","7":"0.000000","8":"0.00000000","9":"1.0000000","10":"2023-09-12","11":"2"},{"1":"85","2":"Yellow","3":"Out","4":"9600.000","5":"52.86344","6":"181.60000","7":"0.000000","8":"0.00000000","9":"1.0000000","10":"2023-12-06","11":"2"},{"1":"42","2":"Yellow","3":"In","4":"9990.000","5":"14.66960","6":"681.00000","7":"78.942731","8":"5.38138138","9":"0.9789790","10":"2023-10-31","11":"3"},{"1":"42","2":"Yellow","3":"Out","4":"9780.000","5":"93.61233","6":"99.88000","7":"78.942731","8":"5.38138138","9":"0.9789790","10":"2023-12-12","11":"3"},{"1":"33","2":"Blue","3":"In","4":"8568.000","5":"104.84581","6":"81.72000","7":"-11.629956","8":"-0.11092437","9":"0.3171783","10":"2023-11-30","11":"4"},{"1":"33","2":"Blue","3":"Out","4":"2717.584","5":"93.21586","6":"25.87800","7":"-11.629956","8":"-0.11092437","9":"0.3171783","10":"2024-01-02","11":"4"},{"1":"36","2":"Yellow","3":"In","4":"6003.000","5":"15.19824","6":"394.98000","7":"4.625551","8":"0.30434783","9":"1.4992504","10":"2023-12-05","11":"5"},{"1":"36","2":"Yellow","3":"Out","4":"9000.000","5":"19.82379","6":"454.00000","7":"4.625551","8":"0.30434783","9":"1.4992504","10":"2024-01-10","11":"5"},{"1":"22","2":"Blue","3":"In","4":"2303.280","5":"72.47577","6":"31.78000","7":"-40.633304","8":"-0.56064673","9":"1.4357584","10":"2024-01-02","11":"6"},{"1":"22","2":"Blue","3":"Out","4":"3306.954","5":"31.84247","6":"93.07000","7":"-40.633304","8":"-0.56064673","9":"1.4357584","10":"2024-01-24","11":"6"},{"1":"57","2":"Yellow","3":"In","4":"24576.000","5":"16.91630","6":"1452.80000","7":"48.850220","8":"2.88776042","9":"1.5024536","10":"2023-12-05","11":"7"},{"1":"57","2":"Yellow","3":"Out","4":"36924.300","5":"65.76652","6":"663.97500","7":"48.850220","8":"2.88776042","9":"1.5024536","10":"2024-01-31","11":"7"},{"1":"43","2":"Yellow","3":"In","4":"40000.000","5":"44.00000","6":"908.00000","7":"-16.000000","8":"-0.37000000","9":"0.6700000","10":"2023-12-26","11":"8"},{"1":"43","2":"Yellow","3":"Out","4":"26783.000","5":"28.00000","6":"757.30000","7":"-16.000000","8":"-0.37000000","9":"0.6700000","10":"2024-02-07","11":"8"},{"1":"44","2":"Yellow","3":"In","4":"40000.000","5":"44.05286","6":"908.00000","7":"30.726872","8":"0.69750000","9":"1.2734825","10":"2023-12-26","11":"9"},{"1":"44","2":"Yellow","3":"Out","4":"50939.300","5":"74.77974","6":"555.24200","7":"30.726872","8":"0.69750000","9":"1.2734825","10":"2024-02-08","11":"9"},{"1":"34","2":"Yellow","3":"In","4":"9000.000","5":"19.82379","6":"454.00000","7":"19.713656","8":"0.99444444","9":"1.1055000","10":"2024-01-10","11":"10"},{"1":"34","2":"Yellow","3":"In","4":"9000.000","5":"20.00000","6":"454.00000","7":"20.000000","8":"0.99000000","9":"1.1100000","10":"2024-01-10","11":"10"},{"1":"34","2":"Yellow","3":"Out","4":"9949.500","5":"39.53744","6":"276.94000","7":"19.713656","8":"0.99444444","9":"1.1055000","10":"2024-02-13","11":"11"},{"1":"34","2":"Yellow","3":"Out","4":"9950.000","5":"40.00000","6":"276.90000","7":"20.000000","8":"0.99000000","9":"1.1100000","10":"2024-02-13","11":"11"},{"1":"37","2":"Blue","3":"In","4":"5393.000","5":"17.00000","6":"317.80000","7":"64.000000","8":"3.75000000","9":"0.7000000","10":"2024-02-06","11":"12"},{"1":"37","2":"Blue","3":"Out","4":"3800.000","5":"81.00000","6":"81.00000","7":"64.000000","8":"3.75000000","9":"0.7000000","10":"2024-03-14","11":"12"},{"1":"42","2":"Yellow","3":"In","4":"22801.000","5":"107.00000","6":"195.20000","7":"128.000000","8":"1.20000000","9":"1.0900000","10":"2024-02-06","11":"13"},{"1":"42","2":"Yellow","3":"Out","4":"24797.000","5":"234.00000","6":"234.00000","7":"128.000000","8":"1.20000000","9":"1.0900000","10":"2024-03-19","11":"13"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="cell">
<details class="code-fold">
<summary><i>Steps to clean data</i></summary>
<div class="sourceCode cell-code" id="annotated-cell-13"><pre class="sourceCode r code-annotation-code code-with-copy"><code class="sourceCode r"><span id="annotated-cell-13-1"><a href="#annotated-cell-13-1" aria-hidden="true" tabindex="-1"></a>oyster_var_names <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="annotated-cell-13-2"><a href="#annotated-cell-13-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"date"</span>, <span class="st">"oyster_large_weight"</span>, <span class="st">"oyster_large_gain"</span>, <span class="st">"oyster_small_weight"</span>,</span>
<span id="annotated-cell-13-3"><a href="#annotated-cell-13-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"oyster_small_gain"</span>, <span class="st">"oyster_chlorophyll"</span></span>
<span id="annotated-cell-13-4"><a href="#annotated-cell-13-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="annotated-cell-13-5"><a href="#annotated-cell-13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-13-6"><a href="#annotated-cell-13-6" aria-hidden="true" tabindex="-1"></a>oyster_growth_data_tidied <span class="ot">&lt;-</span> oyster_growth_data <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-13-7"><a href="#annotated-cell-13-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">12</span>)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-13-8"><a href="#annotated-cell-13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-13-9"><a href="#annotated-cell-13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setNames</span>(oyster_var_names) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-13-10"><a href="#annotated-cell-13-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="annotated-cell-13-11"><a href="#annotated-cell-13-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(oyster_large_weight, oyster_large_gain,</span>
<span id="annotated-cell-13-12"><a href="#annotated-cell-13-12" aria-hidden="true" tabindex="-1"></a>             oyster_small_gain,</span>
<span id="annotated-cell-13-13"><a href="#annotated-cell-13-13" aria-hidden="true" tabindex="-1"></a>             oyster_small_weight),</span>
<span id="annotated-cell-13-14"><a href="#annotated-cell-13-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"oyster_size"</span>, <span class="st">".value"</span>),</span>
<span id="annotated-cell-13-15"><a href="#annotated-cell-13-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_prefix =</span> <span class="st">"oyster_"</span>,</span>
<span id="annotated-cell-13-16"><a href="#annotated-cell-13-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="annotated-cell-13-17"><a href="#annotated-cell-13-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"value"</span></span>
<span id="annotated-cell-13-18"><a href="#annotated-cell-13-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-13-19"><a href="#annotated-cell-13-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">oyster_size =</span> <span class="fu">if_else</span>(<span class="fu">str_detect</span>(oyster_size, <span class="st">"small"</span>), <span class="st">"Small"</span>, <span class="st">"Large"</span>)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-13-20"><a href="#annotated-cell-13-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date),</span>
<span id="annotated-cell-13-21"><a href="#annotated-cell-13-21" aria-hidden="true" tabindex="-1"></a>         <span class="at">oyster_size =</span> <span class="fu">as.factor</span>(oyster_size),</span>
<span id="annotated-cell-13-22"><a href="#annotated-cell-13-22" aria-hidden="true" tabindex="-1"></a>         <span class="fu">across</span>(<span class="fu">c</span>(weight, gain), as.numeric)</span>
<span id="annotated-cell-13-23"><a href="#annotated-cell-13-23" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-13-24"><a href="#annotated-cell-13-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2023-11-20"</span>) <span class="sc">&amp;</span> date <span class="sc">&lt;=</span></span>
<span id="annotated-cell-13-25"><a href="#annotated-cell-13-25" aria-hidden="true" tabindex="-1"></a>           <span class="fu">as.Date</span>(<span class="st">"2024-02-20"</span>)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-13-26"><a href="#annotated-cell-13-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">weight =</span> weight <span class="sc">*</span> <span class="fl">0.00220462</span>) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-13-27"><a href="#annotated-cell-13-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"growth_pct"</span> <span class="ot">=</span> gain) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-13-28"><a href="#annotated-cell-13-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>growth_pct) <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-13-29"><a href="#annotated-cell-13-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(weight) <span class="sc">&amp;</span> oyster_size <span class="sc">!=</span> <span class="st">"Large"</span>)</span>
<span id="annotated-cell-13-30"><a href="#annotated-cell-13-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-13-31"><a href="#annotated-cell-13-31" aria-hidden="true" tabindex="-1"></a><span class="fu">paged_table</span>(oyster_growth_data_tidied)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["date"],"name":[1],"type":["date"],"align":["right"]},{"label":["oyster_chlorophyll"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["oyster_size"],"name":[3],"type":["fct"],"align":["left"]},{"label":["weight"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"2023-11-20","2":"1.7043141","3":"Small","4":"1.058218"},{"1":"2023-11-27","2":"0.5911654","3":"Small","4":"1.168449"},{"1":"2023-12-11","2":"1.5433366","3":"Small","4":"1.258838"},{"1":"2023-12-18","2":"1.4462227","3":"Small","4":"1.455049"},{"1":"2024-01-01","2":"2.6269800","3":"Small","4":"1.865109"},{"1":"2024-01-08","2":"2.6027392","3":"Small","4":"1.915815"},{"1":"2024-01-17","2":"2.9111404","3":"Small","4":"2.074547"},{"1":"2024-01-23","2":"1.6261581","3":"Small","4":"2.193597"},{"1":"2024-02-20","2":"NA","3":"Small","4":"2.380990"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<div class="cell">
<details class="code-fold">
<summary><i>Steps to clean data</i></summary>
<div class="sourceCode cell-code" id="annotated-cell-14"><pre class="sourceCode r code-annotation-code code-with-copy"><code class="sourceCode r"><span id="annotated-cell-14-1"><a href="#annotated-cell-14-1" aria-hidden="true" tabindex="-1"></a>weather_data_tidied <span class="ot">&lt;-</span> weather_data <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-14-2"><a href="#annotated-cell-14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-14-3"><a href="#annotated-cell-14-3" aria-hidden="true" tabindex="-1"></a>janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-14-4"><a href="#annotated-cell-14-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">unite</span>(date, year, month, day, <span class="at">sep =</span> <span class="st">"-"</span>) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-14-5"><a href="#annotated-cell-14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">ymd</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-14-6"><a href="#annotated-cell-14-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-14-7"><a href="#annotated-cell-14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"outdoor_temperature"</span> <span class="ot">=</span> outdoor_temp_f) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-14-8"><a href="#annotated-cell-14-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">outdoor_temperature =</span> (outdoor_temperature <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> (<span class="dv">5</span><span class="sc">/</span><span class="dv">9</span>)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-14-9"><a href="#annotated-cell-14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-14-10"><a href="#annotated-cell-14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), \(x) <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-14-11"><a href="#annotated-cell-14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>)</span>
<span id="annotated-cell-14-12"><a href="#annotated-cell-14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-14-13"><a href="#annotated-cell-14-13" aria-hidden="true" tabindex="-1"></a><span class="fu">paged_table</span>(weather_data_tidied)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["date"],"name":[1],"type":["date"],"align":["right"]},{"label":["outdoor_temperature"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["wind_speed_mph"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["hourly_rain_inch_hr"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["wind_direction"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"2023-11-20","2":"22.45139","3":"5.714167","4":"0.000000000","5":"50.83333"},{"1":"2023-11-21","2":"23.19676","3":"4.753333","4":"0.000000000","5":"50.37500"},{"1":"2023-11-22","2":"23.81019","3":"3.233750","4":"0.006875000","5":"77.70833"},{"1":"2023-11-23","2":"24.36111","3":"4.102083","4":"0.000000000","5":"99.79167"},{"1":"2023-11-24","2":"24.19907","3":"3.933333","4":"0.000000000","5":"99.83333"},{"1":"2023-11-25","2":"24.31019","3":"4.521250","4":"0.000000000","5":"92.83333"},{"1":"2023-11-26","2":"23.85417","3":"4.027500","4":"0.000000000","5":"45.75000"},{"1":"2023-11-27","2":"23.31019","3":"3.337500","4":"0.002958333","5":"65.25000"},{"1":"2023-11-28","2":"22.91204","3":"1.781250","4":"0.065916667","5":"231.87500"},{"1":"2023-11-29","2":"23.24537","3":"4.530417","4":"0.007875000","5":"180.45833"},{"1":"2023-11-30","2":"23.10417","3":"2.721250","4":"0.052166667","5":"173.83333"},{"1":"2023-12-01","2":"22.86111","3":"3.765000","4":"0.002958333","5":"191.12500"},{"1":"2023-12-02","2":"24.12963","3":"3.737083","4":"0.000000000","5":"112.75000"},{"1":"2023-12-03","2":"23.80556","3":"3.141667","4":"0.000000000","5":"76.66667"},{"1":"2023-12-04","2":"23.77315","3":"2.694167","4":"0.000000000","5":"121.70833"},{"1":"2023-12-05","2":"23.89352","3":"3.866667","4":"0.000000000","5":"84.58333"},{"1":"2023-12-06","2":"24.33102","3":"5.181667","4":"0.000000000","5":"45.54167"},{"1":"2023-12-07","2":"23.95602","3":"1.938750","4":"0.000000000","5":"244.95833"},{"1":"2023-12-08","2":"23.67824","3":"2.535000","4":"0.000000000","5":"281.87500"},{"1":"2023-12-09","2":"23.35417","3":"3.412083","4":"0.000000000","5":"48.41667"},{"1":"2023-12-10","2":"24.17593","3":"4.706250","4":"0.000000000","5":"41.20833"},{"1":"2023-12-11","2":"24.79167","3":"2.358333","4":"0.000000000","5":"80.50000"},{"1":"2023-12-12","2":"23.44203","3":"2.529130","4":"0.011304348","5":"147.34783"},{"1":"2023-12-13","2":"21.78704","3":"5.470000","4":"0.018708333","5":"73.66667"},{"1":"2023-12-14","2":"20.99769","3":"4.455417","4":"0.000000000","5":"89.20833"},{"1":"2023-12-15","2":"21.33796","3":"4.854583","4":"0.000000000","5":"61.29167"},{"1":"2023-12-16","2":"20.46991","3":"3.345833","4":"0.002958333","5":"28.25000"},{"1":"2023-12-17","2":"20.68287","3":"3.317917","4":"0.000000000","5":"50.16667"},{"1":"2023-12-18","2":"21.14352","3":"3.709167","4":"0.017708333","5":"34.25000"},{"1":"2023-12-19","2":"21.39120","3":"6.850417","4":"0.029541667","5":"59.62500"},{"1":"2023-12-20","2":"20.26389","3":"4.270000","4":"0.102333333","5":"53.79167"},{"1":"2023-12-21","2":"21.90509","3":"4.949167","4":"0.002958333","5":"37.87500"},{"1":"2023-12-22","2":"22.48611","3":"3.859583","4":"0.000000000","5":"48.20833"},{"1":"2023-12-23","2":"22.45833","3":"3.262500","4":"0.000000000","5":"69.66667"},{"1":"2023-12-24","2":"22.49537","3":"2.683750","4":"0.000000000","5":"34.12500"},{"1":"2023-12-25","2":"22.09722","3":"2.386667","4":"0.000000000","5":"96.79167"},{"1":"2023-12-26","2":"21.55556","3":"2.638333","4":"0.000000000","5":"74.50000"},{"1":"2023-12-27","2":"22.15217","3":"2.081304","4":"0.000000000","5":"48.60870"},{"1":"2023-12-28","2":"21.45602","3":"3.607083","4":"0.000000000","5":"107.66667"},{"1":"2023-12-29","2":"22.22222","3":"2.880833","4":"0.000000000","5":"55.41667"},{"1":"2023-12-30","2":"22.21528","3":"3.820833","4":"0.000000000","5":"47.62500"},{"1":"2023-12-31","2":"22.84028","3":"2.674583","4":"0.000000000","5":"47.62500"},{"1":"2024-01-01","2":"22.31250","3":"3.867500","4":"0.012791667","5":"46.83333"},{"1":"2024-01-02","2":"22.36715","3":"4.260000","4":"0.002043478","5":"56.91304"},{"1":"2024-01-03","2":"22.75926","3":"4.204583","4":"0.000000000","5":"70.08333"},{"1":"2024-01-04","2":"22.78009","3":"3.580417","4":"0.000000000","5":"82.62500"},{"1":"2024-01-05","2":"22.53704","3":"3.310000","4":"0.000000000","5":"83.29167"},{"1":"2024-01-06","2":"22.89583","3":"3.000000","4":"0.000000000","5":"75.58333"},{"1":"2024-01-07","2":"23.49537","3":"2.498333","4":"0.012791667","5":"106.45833"},{"1":"2024-01-08","2":"22.40741","3":"5.806667","4":"0.027541667","5":"261.91667"},{"1":"2024-01-09","2":"22.15741","3":"6.924583","4":"0.000000000","5":"255.66667"},{"1":"2024-01-10","2":"20.84259","3":"4.072917","4":"0.000000000","5":"278.37500"},{"1":"2024-01-11","2":"19.62963","3":"5.750417","4":"0.001958333","5":"267.00000"},{"1":"2024-01-12","2":"19.28009","3":"2.330000","4":"0.000000000","5":"271.95833"},{"1":"2024-01-13","2":"19.94444","3":"3.140833","4":"0.000000000","5":"271.95833"},{"1":"2024-01-14","2":"20.39352","3":"3.904583","4":"0.000000000","5":"271.95833"},{"1":"2024-01-15","2":"22.03472","3":"3.980000","4":"0.000000000","5":"271.83333"},{"1":"2024-01-16","2":"23.41898","3":"6.412500","4":"0.000000000","5":"264.62500"},{"1":"2024-01-17","2":"22.43287","3":"5.406250","4":"0.000000000","5":"265.62500"},{"1":"2024-01-18","2":"22.41435","3":"3.653750","4":"0.000000000","5":"265.62500"},{"1":"2024-01-19","2":"23.91667","3":"2.218750","4":"0.000000000","5":"265.41667"},{"1":"2024-01-20","2":"24.64815","3":"2.712083","4":"0.000000000","5":"268.66667"},{"1":"2024-01-21","2":"22.44444","3":"1.919167","4":"0.015750000","5":"315.29167"},{"1":"2024-01-22","2":"24.71296","3":"1.397917","4":"0.000000000","5":"341.75000"},{"1":"2024-01-23","2":"25.03009","3":"1.099167","4":"0.000000000","5":"324.75000"},{"1":"2024-01-24","2":"22.89120","3":"2.937083","4":"0.001958333","5":"302.66667"},{"1":"2024-01-25","2":"22.39352","3":"4.017083","4":"0.000000000","5":"299.00000"},{"1":"2024-01-26","2":"22.51852","3":"4.873333","4":"0.002958333","5":"298.58333"},{"1":"2024-01-27","2":"23.73611","3":"6.030833","4":"0.002958333","5":"295.29167"},{"1":"2024-01-28","2":"23.55093","3":"6.122917","4":"0.002958333","5":"294.41667"},{"1":"2024-01-29","2":"23.33565","3":"6.962083","4":"0.020666667","5":"269.87500"},{"1":"2024-01-30","2":"22.58796","3":"2.749583","4":"0.000000000","5":"258.87500"},{"1":"2024-01-31","2":"22.58333","3":"1.415417","4":"0.000000000","5":"258.91667"},{"1":"2024-02-01","2":"22.76620","3":"3.029167","4":"0.000000000","5":"259.37500"},{"1":"2024-02-02","2":"20.68750","3":"3.260833","4":"0.000000000","5":"260.75000"},{"1":"2024-02-03","2":"20.35880","3":"4.986667","4":"0.000000000","5":"261.08333"},{"1":"2024-02-04","2":"21.61111","3":"7.241667","4":"0.000000000","5":"271.41667"},{"1":"2024-02-05","2":"22.21212","3":"6.466364","4":"0.000000000","5":"288.31818"},{"1":"2024-02-06","2":"22.70833","3":"6.394167","4":"0.000000000","5":"291.50000"},{"1":"2024-02-07","2":"22.92929","3":"6.649091","4":"0.000000000","5":"294.00000"},{"1":"2024-02-08","2":"22.60880","3":"3.578750","4":"0.000000000","5":"295.12500"},{"1":"2024-02-09","2":"22.13889","3":"3.588333","4":"0.000000000","5":"295.04167"},{"1":"2024-02-10","2":"22.49074","3":"2.563333","4":"0.000000000","5":"295.04167"},{"1":"2024-02-11","2":"22.53472","3":"3.104167","4":"0.000000000","5":"294.87500"},{"1":"2024-02-12","2":"22.49537","3":"5.163333","4":"0.000000000","5":"294.83333"},{"1":"2024-02-13","2":"23.29952","3":"2.392174","4":"0.000000000","5":"294.78261"},{"1":"2024-02-14","2":"23.01389","3":"4.977083","4":"0.000000000","5":"294.75000"},{"1":"2024-02-15","2":"20.61111","3":"2.040417","4":"0.000000000","5":"294.83333"},{"1":"2024-02-16","2":"19.62731","3":"3.466250","4":"0.000000000","5":"294.87500"},{"1":"2024-02-17","2":"20.16898","3":"3.755833","4":"0.000000000","5":"294.83333"},{"1":"2024-02-18","2":"20.66667","3":"5.899583","4":"0.000000000","5":"294.87500"},{"1":"2024-02-19","2":"21.28241","3":"6.040417","4":"0.000000000","5":"294.95833"},{"1":"2024-02-20","2":"22.00694","3":"4.082917","4":"0.000000000","5":"294.87500"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<div class="cell">
<details class="code-fold">
<summary><i>Steps to clean data</i></summary>
<div class="sourceCode cell-code" id="annotated-cell-15"><pre class="sourceCode r code-annotation-code code-with-copy"><code class="sourceCode r"><span id="annotated-cell-15-1"><a href="#annotated-cell-15-1" aria-hidden="true" tabindex="-1"></a>ksf_data_tidied <span class="ot">&lt;-</span> ksf_data <span class="sc">%&gt;%</span> </span>
<span id="annotated-cell-15-2"><a href="#annotated-cell-15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span><span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">s*</span><span class="sc">\\</span><span class="st">([^</span><span class="sc">\\</span><span class="st">)]+</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, .x)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-15-3"><a href="#annotated-cell-15-3" aria-hidden="true" tabindex="-1"></a>  janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-15-4"><a href="#annotated-cell-15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">date =</span> date_time) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-15-5"><a href="#annotated-cell-15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">as.Date</span>(date)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-15-6"><a href="#annotated-cell-15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">"2023-11-20"</span>) <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">"2024-02-20"</span>)) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-15-7"><a href="#annotated-cell-15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-15-8"><a href="#annotated-cell-15-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(external_voltage, wk_num, wind_dir,</span>
<span id="annotated-cell-15-9"><a href="#annotated-cell-15-9" aria-hidden="true" tabindex="-1"></a>                   spadd, outdoor_temperature, hourly_rain,</span>
<span id="annotated-cell-15-10"><a href="#annotated-cell-15-10" aria-hidden="true" tabindex="-1"></a>                   solar_radiation, resistivity, battery_capacity,</span>
<span id="annotated-cell-15-11"><a href="#annotated-cell-15-11" aria-hidden="true" tabindex="-1"></a>                   hour, daynum, data_pt, wind_sp, diradd,</span>
<span id="annotated-cell-15-12"><a href="#annotated-cell-15-12" aria-hidden="true" tabindex="-1"></a>                   wind_speed, wind_direction, tide, day, month, year)</span>
<span id="annotated-cell-15-13"><a href="#annotated-cell-15-13" aria-hidden="true" tabindex="-1"></a>                ) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-15-14"><a href="#annotated-cell-15-14" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">where</span>(<span class="sc">~</span> <span class="sc">!</span><span class="fu">anyNA</span>(.))) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-15-15"><a href="#annotated-cell-15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(date) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-15-16"><a href="#annotated-cell-15-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), \(x) <span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))) <span class="sc">%&gt;%</span></span>
<span id="annotated-cell-15-17"><a href="#annotated-cell-15-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="st">"ksf_salinity"</span> <span class="ot">=</span> salinity,</span>
<span id="annotated-cell-15-18"><a href="#annotated-cell-15-18" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_rdo_saturation"</span> <span class="ot">=</span> rdo_saturation,</span>
<span id="annotated-cell-15-19"><a href="#annotated-cell-15-19" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_rdo_concentration"</span> <span class="ot">=</span> rdo_concentration,</span>
<span id="annotated-cell-15-20"><a href="#annotated-cell-15-20" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_actual_conductivity"</span> <span class="ot">=</span> actual_conductivity,</span>
<span id="annotated-cell-15-21"><a href="#annotated-cell-15-21" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_total_dissolved_solids"</span> <span class="ot">=</span> total_dissolved_solids,</span>
<span id="annotated-cell-15-22"><a href="#annotated-cell-15-22" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_ammonium"</span> <span class="ot">=</span> ammonium,</span>
<span id="annotated-cell-15-23"><a href="#annotated-cell-15-23" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_barometric_pressure"</span> <span class="ot">=</span> barometric_pressure,</span>
<span id="annotated-cell-15-24"><a href="#annotated-cell-15-24" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_oxygen_partial_pressure"</span> <span class="ot">=</span> oxygen_partial_pressure,</span>
<span id="annotated-cell-15-25"><a href="#annotated-cell-15-25" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_specific_conductivity"</span> <span class="ot">=</span> specific_conductivity,</span>
<span id="annotated-cell-15-26"><a href="#annotated-cell-15-26" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_density"</span> <span class="ot">=</span> density,</span>
<span id="annotated-cell-15-27"><a href="#annotated-cell-15-27" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_chlorophyll_a_fluorescence"</span> <span class="ot">=</span> chlorophyll_a_fluorescence,</span>
<span id="annotated-cell-15-28"><a href="#annotated-cell-15-28" aria-hidden="true" tabindex="-1"></a>         <span class="st">"ksf_ammonium_m_v"</span> <span class="ot">=</span> ammonium_m_v)</span>
<span id="annotated-cell-15-29"><a href="#annotated-cell-15-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="annotated-cell-15-30"><a href="#annotated-cell-15-30" aria-hidden="true" tabindex="-1"></a><span class="fu">paged_table</span>(ksf_data_tidied)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["date"],"name":[1],"type":["date"],"align":["right"]},{"label":["ksf_rdo_concentration"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["ksf_rdo_saturation"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["ksf_oxygen_partial_pressure"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["ksf_actual_conductivity"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["ksf_specific_conductivity"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["ksf_salinity"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["ksf_density"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["ksf_total_dissolved_solids"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["ksf_chlorophyll_a_fluorescence"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["ksf_ammonium"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["ksf_ammonium_m_v"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["ksf_barometric_pressure"],"name":[13],"type":["dbl"],"align":["right"]}],"data":[{"1":"2023-11-20","2":"6.139097","3":"88.98420","4":"138.22055","5":"49760.63","6":"49848.73","7":"33.14815","8":"1.021973","9":"32.40168","10":"2.5858723","11":"9.644948","12":"64.13847","13":"0.08493750"},{"1":"2023-11-21","2":"5.516661","3":"80.14384","4":"124.47647","5":"50148.42","6":"50186.86","7":"33.40189","8":"1.022148","9":"32.62146","10":"2.3051184","11":"9.713320","12":"64.31503","13":"0.08765625"},{"1":"2023-11-22","2":"4.887087","3":"71.16440","4":"110.49763","5":"50246.56","6":"50126.93","7":"33.36143","8":"1.022067","9":"32.58250","10":"1.6150075","11":"9.700411","12":"64.31942","13":"0.09103125"},{"1":"2023-11-23","2":"5.077774","3":"74.69093","4":"115.81760","5":"50509.69","6":"49795.33","7":"33.12908","8":"1.021700","9":"32.36696","10":"1.4197665","11":"9.747021","12":"64.56502","13":"0.10528125"},{"1":"2023-11-24","2":"5.641217","3":"83.42868","4":"128.93788","5":"50627.95","6":"49732.92","7":"33.08826","8":"1.021612","9":"32.32640","10":"1.0422433","11":"9.845860","12":"64.84282","13":"0.10875000"},{"1":"2023-11-25","2":"5.821020","3":"86.85979","4":"133.66229","5":"51075.04","6":"49963.20","7":"33.26451","8":"1.021675","9":"32.47608","10":"0.4742843","11":"9.949546","12":"65.13583","13":"0.11409375"},{"1":"2023-11-26","2":"5.861652","3":"87.15856","4":"134.19964","5":"51119.48","6":"50228.35","7":"33.45766","8":"1.021895","9":"32.64843","10":"0.4445090","11":"9.889933","12":"64.94517","13":"0.10856250"},{"1":"2023-11-27","2":"5.609586","3":"82.99746","4":"127.86983","5":"50871.23","6":"50269.78","7":"33.48133","8":"1.022006","9":"32.67536","10":"0.4689316","11":"9.735529","12":"64.51254","13":"0.10050000"},{"1":"2023-11-28","2":"5.445652","3":"80.44377","4":"123.95082","5":"50697.95","6":"50152.98","7":"33.39270","8":"1.021957","9":"32.59944","10":"0.4895560","11":"9.627393","12":"64.23873","13":"0.10012500"},{"1":"2023-11-29","2":"5.555637","3":"81.93733","4":"126.24637","5":"50259.04","6":"49696.67","7":"33.05248","8":"1.021693","9":"32.30284","10":"0.5480004","11":"9.423402","12":"63.74292","13":"0.09834375"},{"1":"2023-11-30","2":"5.399256","3":"78.76192","4":"121.47757","5":"49295.22","6":"49217.71","7":"32.68254","8":"1.021569","9":"31.99151","10":"0.6722972","11":"9.170111","12":"62.99960","13":"0.08831250"},{"1":"2023-12-01","2":"5.404686","3":"78.48476","4":"121.10463","5":"48946.00","6":"49095.06","7":"32.58494","8":"1.021568","9":"31.91179","10":"0.7740106","11":"9.045266","12":"62.63033","13":"0.08381250"},{"1":"2023-12-02","2":"5.806669","3":"84.76354","4":"130.71413","5":"49151.03","6":"49088.88","7":"32.58552","8":"1.021499","9":"31.90777","10":"0.7408532","11":"9.034385","12":"62.64937","13":"0.08981250"},{"1":"2023-12-03","2":"5.841935","3":"85.94581","4":"132.43108","5":"49721.55","6":"49243.72","7":"32.71212","8":"1.021461","9":"32.00842","10":"0.8296380","11":"9.153366","12":"63.04828","13":"0.10003125"},{"1":"2023-12-04","2":"6.252691","3":"91.89720","4":"141.95616","5":"49880.14","6":"49306.04","7":"32.76115","8":"1.021468","9":"32.04893","10":"0.9467430","11":"9.156655","12":"63.07876","13":"0.13322302"},{"1":"2023-12-05","2":"6.127961","3":"89.82127","4":"138.96696","5":"49848.38","6":"49360.58","7":"32.79958","8":"1.021525","9":"32.08438","10":"0.9114512","11":"9.077801","12":"62.85762","13":"0.09937500"},{"1":"2023-12-06","2":"6.044640","3":"88.65290","4":"137.14438","5":"49841.74","6":"49307.98","7":"32.76172","8":"1.021480","9":"32.05018","10":"1.2751525","11":"9.024268","12":"62.72957","13":"0.10078125"},{"1":"2023-12-07","2":"5.536402","3":"81.20521","4":"125.62665","5":"49890.85","6":"49359.66","7":"32.80003","8":"1.021511","9":"32.08378","10":"1.2055516","11":"9.028659","12":"62.74054","13":"0.09956250"},{"1":"2023-12-08","2":"6.095927","3":"89.71462","4":"138.72812","5":"49987.79","6":"49248.28","7":"32.72217","8":"1.021384","9":"32.01138","10":"1.2237525","11":"9.058885","12":"62.86502","13":"0.10518750"},{"1":"2023-12-09","2":"6.270724","3":"92.71998","4":"143.29073","5":"50186.18","6":"49165.76","7":"32.66763","8":"1.021250","9":"31.95774","10":"1.1429871","11":"9.137386","12":"63.13009","13":"0.11221875"},{"1":"2023-12-10","2":"6.165489","3":"91.16886","4":"140.88949","5":"50172.47","6":"49139.28","7":"32.64806","8":"1.021231","9":"31.94053","10":"1.2830833","11":"9.132912","12":"63.12114","13":"0.11184375"},{"1":"2023-12-11","2":"6.172981","3":"91.41214","4":"141.23749","5":"50214.39","6":"49080.82","7":"32.60702","8":"1.021167","9":"31.90253","10":"1.5692588","11":"9.165717","12":"63.22823","13":"0.11456250"},{"1":"2023-12-12","2":"6.111078","3":"90.24693","4":"139.46979","5":"49903.29","6":"48878.55","7":"32.45401","8":"1.021086","9":"31.77106","10":"1.7379965","11":"9.107349","12":"63.05560","13":"0.11193750"},{"1":"2023-12-13","2":"6.120272","3":"89.55911","4":"138.53836","5":"49187.75","6":"48622.31","7":"32.25222","8":"1.021084","9":"31.60450","10":"1.7202128","11":"8.848345","12":"62.27958","13":"0.10171875"},{"1":"2023-12-14","2":"5.894204","3":"84.83433","4":"131.48603","5":"48468.42","6":"48821.87","7":"32.37586","8":"1.021475","9":"31.73422","10":"1.6001057","11":"8.541944","12":"61.25363","13":"0.07968750"},{"1":"2023-12-15","2":"5.900714","3":"84.10059","4":"130.48549","5":"47950.70","6":"48842.35","7":"32.37507","8":"1.021645","9":"31.74753","10":"1.4491984","11":"8.313569","12":"60.50684","13":"0.06853125"},{"1":"2023-12-16","2":"5.932221","3":"84.10475","4":"130.54932","5":"47492.42","6":"48618.50","7":"32.20140","8":"1.021588","9":"31.60203","10":"1.4435010","11":"8.185731","12":"60.09539","13":"0.06478125"},{"1":"2023-12-17","2":"5.898444","3":"83.49132","4":"129.61269","5":"47329.50","6":"48514.01","7":"32.12196","8":"1.021547","9":"31.53410","10":"1.4506992","11":"8.145239","12":"59.96719","13":"0.06393750"},{"1":"2023-12-18","2":"6.120040","3":"86.16786","4":"133.81958","5":"46794.16","6":"48161.50","7":"31.85468","8":"1.021405","9":"31.30497","10":"1.3875630","11":"8.027983","12":"59.58914","13":"0.05846853"},{"1":"2023-12-19","2":"6.401852","3":"90.06481","4":"139.88120","5":"46734.11","6":"48145.32","7":"31.84113","8":"1.021409","9":"31.29445","10":"1.4741887","11":"7.865405","12":"59.10551","13":"0.05859375"},{"1":"2023-12-20","2":"6.393715","3":"88.68416","4":"137.86131","5":"45205.07","6":"47024.90","7":"30.99958","8":"1.020913","9":"30.56619","10":"1.5006261","11":"7.452078","12":"57.74729","13":"0.05015625"},{"1":"2023-12-21","2":"6.732170","3":"92.80909","4":"144.34514","5":"44675.34","6":"46768.93","7":"30.80012","8":"1.020850","9":"30.39981","10":"1.4426764","11":"7.139568","12":"56.70766","13":"0.04481250"},{"1":"2023-12-22","2":"6.627490","3":"92.06775","4":"143.09820","5":"45197.11","6":"46950.79","7":"30.94618","8":"1.020852","9":"30.51801","10":"1.4135773","11":"7.233752","12":"57.08540","13":"0.05203125"},{"1":"2023-12-23","2":"6.408646","3":"89.68535","4":"139.30544","5":"45709.86","6":"47137.61","7":"31.09491","8":"1.020859","9":"30.63944","10":"1.4784708","11":"7.327733","12":"57.45547","13":"0.05784375"},{"1":"2023-12-24","2":"6.179623","3":"86.89149","4":"134.90299","5":"45962.00","6":"47154.85","7":"31.11522","8":"1.020799","9":"30.65065","10":"1.5922231","11":"7.413851","12":"57.77672","13":"0.06131250"},{"1":"2023-12-25","2":"6.057853","3":"85.29065","4":"132.39413","5":"45945.49","6":"47044.07","7":"31.03644","8":"1.020710","9":"30.57864","10":"2.0638444","11":"7.494553","12":"58.04775","13":"0.06450000"},{"1":"2023-12-26","2":"6.282351","3":"88.27772","4":"137.06839","5":"45971.58","6":"47212.99","7":"31.15674","8":"1.020846","9":"30.68844","10":"2.0312518","11":"7.493362","12":"58.01429","13":"0.06093750"},{"1":"2023-12-27","2":"5.768495","3":"81.14009","4":"125.97633","5":"46081.63","6":"47291.63","7":"31.21570","8":"1.020880","9":"30.73956","10":"2.1307676","11":"7.519702","12":"58.10228","13":"0.06225000"},{"1":"2023-12-28","2":"6.327103","3":"89.46333","4":"138.82122","5":"46280.26","6":"47221.24","7":"31.17221","8":"1.020761","9":"30.69381","10":"2.0483539","11":"7.536058","12":"58.21114","13":"0.06778125"},{"1":"2023-12-29","2":"6.267411","3":"88.64177","4":"137.53083","5":"46181.77","6":"47068.01","7":"31.06045","8":"1.020659","9":"30.59420","10":"2.1141027","11":"7.470142","12":"58.01799","13":"0.06871875"},{"1":"2023-12-30","2":"6.333303","3":"89.48933","4":"138.84531","5":"45956.46","6":"46841.65","7":"30.89349","8":"1.020534","9":"30.44707","10":"2.7760691","11":"7.392432","12":"57.77473","13":"0.06928125"},{"1":"2023-12-31","2":"6.190396","3":"87.60872","4":"135.90674","5":"46070.02","6":"46844.38","7":"30.89893","8":"1.020503","9":"30.44885","10":"2.2397240","11":"7.400418","12":"57.82366","13":"0.07209375"},{"1":"2024-01-01","2":"6.327102","3":"89.79079","4":"139.25252","5":"46194.82","6":"46851.99","7":"30.90793","8":"1.020471","9":"30.45379","10":"2.2178734","11":"7.378641","12":"57.78107","13":"0.07246875"},{"1":"2024-01-02","2":"6.239297","3":"88.34623","4":"137.04723","5":"46136.34","6":"46900.63","7":"30.94055","8":"1.020531","9":"30.48541","10":"2.3198580","11":"7.214701","12":"57.23613","13":"0.07171875"},{"1":"2024-01-03","2":"5.894879","3":"83.82702","4":"129.98661","5":"46466.58","6":"47052.16","7":"31.05753","8":"1.020560","9":"30.58390","10":"2.2608747","11":"7.241328","12":"57.36038","13":"0.07575000"},{"1":"2024-01-04","2":"5.506032","3":"78.30599","4":"121.41442","5":"46331.03","6":"46863.86","7":"30.92025","8":"1.020440","9":"30.46151","10":"3.2408841","11":"7.268920","12":"57.46037","13":"0.07603125"},{"1":"2024-01-05","2":"4.737822","3":"66.95708","4":"103.86248","5":"45585.54","6":"46316.07","7":"30.51094","8":"1.020199","9":"30.10544","10":"2.9137828","11":"7.266402","12":"57.40794","13":"0.07115625"},{"1":"2024-01-06","2":"4.333088","3":"61.27254","4":"95.02644","5":"45411.40","6":"46053.42","7":"30.31991","8":"1.020025","9":"29.93472","10":"2.8086071","11":"7.296756","12":"57.52208","13":"0.04762500"},{"1":"2024-01-07","2":"4.693543","3":"66.85638","4":"103.59782","5":"45605.21","6":"45867.78","7":"30.19415","8":"1.019805","9":"29.81406","10":"3.0924006","11":"7.455355","12":"58.10636","13":"0.03956250"},{"1":"2024-01-08","2":"5.864447","3":"83.09619","4":"128.79432","5":"44838.51","6":"45170.85","7":"29.68045","8":"1.019443","9":"29.36105","10":"3.6249319","11":"7.192068","12":"57.25024","13":"0.69769792"},{"1":"2024-01-09","2":"6.096355","3":"85.93035","4":"133.24530","5":"44347.25","6":"44900.58","7":"29.47577","8":"1.019364","9":"29.18538","10":"2.2147266","11":"7.008125","12":"56.60216","13":"0.61439583"},{"1":"2024-01-10","2":"5.718013","3":"80.59468","4":"124.96782","5":"44275.13","6":"44811.06","7":"29.41065","8":"1.019310","9":"29.12719","10":"2.0026127","11":"7.028377","12":"56.67262","13":"0.33630208"},{"1":"2024-01-11","2":"5.954700","3":"83.11036","4":"128.98440","5":"43588.85","6":"44521.65","7":"29.18752","8":"1.019278","9":"28.93908","10":"2.2021308","11":"6.931136","12":"56.25926","13":"0.09187500"},{"1":"2024-01-12","2":"5.067010","3":"70.35210","4":"109.24189","5":"43310.55","6":"44512.66","7":"29.17299","8":"1.019358","9":"28.93323","10":"2.4885319","11":"6.838525","12":"55.88810","13":"0.03093750"},{"1":"2024-01-13","2":"5.296468","3":"73.13820","4":"113.60345","5":"42644.69","6":"43987.67","7":"28.78498","8":"1.019117","9":"28.59198","10":"2.5938396","11":"6.775936","12":"55.64049","13":"0.02446875"},{"1":"2024-01-14","2":"5.062212","3":"69.83273","4":"108.46997","5":"42422.58","6":"43754.50","7":"28.61513","8":"1.018987","9":"28.44043","10":"3.6409198","11":"6.716593","12":"55.43741","13":"0.02512500"},{"1":"2024-01-15","2":"5.501655","3":"75.90168","4":"117.86966","5":"42033.72","6":"43268.08","7":"28.26389","8":"1.018693","9":"28.12425","10":"3.3851545","11":"6.646595","12":"55.21392","13":"0.02625000"},{"1":"2024-01-16","2":"5.633867","3":"77.55794","4":"120.44716","5":"41590.68","6":"42792.63","7":"27.91912","8":"1.018427","9":"27.81521","10":"3.1521016","11":"6.523164","12":"54.78397","13":"0.02559375"},{"1":"2024-01-17","2":"5.371846","3":"74.16062","4":"115.11918","5":"41421.83","6":"42424.55","7":"27.65738","8":"1.018163","9":"27.57596","10":"2.8443319","11":"6.532886","12":"54.86131","13":"0.02831250"},{"1":"2024-01-18","2":"5.439562","3":"75.08673","4":"116.52734","5":"40941.93","6":"41830.66","7":"27.23002","8":"1.017805","9":"27.18993","10":"2.5265262","11":"6.530133","12":"54.87492","13":"0.02906250"},{"1":"2024-01-19","2":"5.571055","3":"77.11491","4":"119.62577","5":"40823.04","6":"41494.19","7":"26.99254","8":"1.017551","9":"26.97122","10":"2.4755856","11":"6.513983","12":"54.86647","13":"0.03300000"},{"1":"2024-01-20","2":"5.006203","3":"69.80596","4":"108.18857","5":"40895.11","6":"41185.17","7":"26.77886","8":"1.017251","9":"26.77036","10":"2.3533631","11":"6.579983","12":"55.18792","13":"0.03787500"},{"1":"2024-01-21","2":"4.559544","3":"63.81817","4":"98.85820","5":"40896.25","6":"40960.97","7":"26.62215","8":"1.017051","9":"26.62463","10":"1.8739789","11":"6.647983","12":"55.48090","13":"0.03984375"},{"1":"2024-01-22","2":"5.263985","3":"73.48171","4":"113.81684","5":"40045.86","6":"40090.27","7":"25.99521","8":"1.016571","9":"26.05868","10":"1.3122213","11":"6.699994","12":"55.66674","13":"0.04050000"},{"1":"2024-01-23","2":"5.558159","3":"78.13216","4":"120.92320","5":"40293.16","6":"40040.02","7":"25.96597","8":"1.016435","9":"26.02601","10":"1.3091519","11":"6.817521","12":"56.14502","13":"0.04593750"},{"1":"2024-01-24","2":"5.665832","3":"78.95442","4":"122.27179","5":"39536.55","6":"39452.18","7":"25.59219","8":"1.016231","9":"25.64392","10":"2.3029657","11":"6.968992","12":"56.47338","13":"0.04205769"},{"1":"2024-01-25","2":"7.925755","3":"114.63634","4":"177.49496","5":"47918.80","6":"47784.52","7":"31.61934","8":"1.020747","9":"31.05994","10":"1.6896089","11":"6.704555","12":"55.71992","13":"0.04323913"},{"1":"2024-01-26","2":"7.829728","3":"112.98437","4":"174.99337","5":"47901.98","6":"47927.20","7":"31.72074","8":"1.020876","9":"31.15268","10":"1.5293514","11":"6.705690","12":"55.69247","13":"0.04050000"},{"1":"2024-01-27","2":"7.573296","3":"109.18784","4":"169.13324","5":"47894.68","6":"47972.22","7":"31.75269","8":"1.020917","9":"31.18194","10":"1.5062732","11":"6.490948","12":"54.92297","13":"0.04040625"},{"1":"2024-01-28","2":"7.286620","3":"105.38519","4":"163.17815","5":"47984.38","6":"47866.94","7":"31.67992","8":"1.020798","9":"31.11351","10":"1.4783591","11":"6.332924","12":"54.38909","13":"0.04237500"},{"1":"2024-01-29","2":"7.001785","3":"101.16602","4":"156.64697","5":"47772.97","6":"47656.96","7":"31.52440","8":"1.020681","9":"30.97703","10":"1.5308041","11":"6.063491","12":"53.37511","13":"0.04246875"},{"1":"2024-01-30","2":"7.021073","3":"101.41793","4":"157.03409","5":"47661.68","6":"47562.32","7":"31.45369","8":"1.020633","9":"30.91551","10":"1.6635704","11":"6.177322","12":"53.80457","13":"0.04331250"},{"1":"2024-01-31","2":"6.946862","3":"100.40145","4":"155.45697","5":"47766.29","6":"47635.55","7":"31.50888","8":"1.020665","9":"30.96311","10":"1.6743192","11":"6.302610","12":"54.28091","13":"0.04321875"},{"1":"2024-02-01","2":"6.982313","3":"101.12060","4":"156.53850","5":"47927.71","6":"47708.64","7":"31.56516","8":"1.020678","9":"31.01062","10":"1.5508519","11":"6.313394","12":"54.33743","13":"0.04546875"},{"1":"2024-02-02","2":"6.251655","3":"90.25451","4":"139.77574","5":"47867.02","6":"47841.89","7":"31.65884","8":"1.020812","9":"31.09723","10":"1.4168671","11":"6.161093","12":"53.72775","13":"0.04275000"},{"1":"2024-02-03","2":"5.237891","3":"74.37891","4":"115.40007","5":"47088.43","6":"47945.33","7":"31.71034","8":"1.021136","9":"31.16447","10":"1.8810746","11":"5.791302","12":"52.11694","13":"0.03121875"},{"1":"2024-02-04","2":"5.475974","3":"76.90822","4":"119.45948","5":"46522.93","6":"47972.63","7":"31.71179","8":"1.021325","9":"31.18221","10":"2.4388133","11":"5.448422","12":"50.59329","13":"0.02550000"},{"1":"2024-02-05","2":"5.757269","3":"80.65157","4":"125.30568","5":"46389.87","6":"47984.07","7":"31.71532","8":"1.021372","9":"31.18965","10":"1.8511257","11":"5.222840","12":"49.58838","13":"0.02400000"},{"1":"2024-02-06","2":"5.995109","3":"84.31095","4":"130.94138","5":"46606.35","6":"48003.47","7":"31.73620","8":"1.021326","9":"31.20226","10":"2.1267997","11":"5.104383","12":"49.09309","13":"0.02587500"},{"1":"2024-02-07","2":"6.161346","3":"87.04604","4":"135.12742","5":"46855.47","6":"48021.89","7":"31.75722","8":"1.021269","9":"31.21423","10":"2.4389987","11":"5.041588","12":"48.84755","13":"0.02859375"},{"1":"2024-02-08","2":"6.260303","3":"89.13363","4":"138.25753","5":"47280.95","6":"48058.13","7":"31.79583","8":"1.021174","9":"31.23778","10":"3.0481004","11":"5.058292","12":"48.99281","13":"0.03253125"},{"1":"2024-02-09","2":"6.305225","3":"90.13710","4":"139.75658","5":"47521.35","6":"48075.78","7":"31.81572","8":"1.021118","9":"31.24926","10":"3.7027575","11":"5.057143","12":"49.02847","13":"0.03468750"},{"1":"2024-02-10","2":"6.123893","3":"87.93702","4":"136.28547","5":"47816.35","6":"48138.41","7":"31.86910","8":"1.021084","9":"31.28997","10":"3.2581329","11":"5.078297","12":"49.16837","13":"0.03806250"},{"1":"2024-02-11","2":"6.088334","3":"87.56324","4":"135.68617","5":"47934.91","6":"48194.93","7":"31.91268","8":"1.021096","9":"31.32670","10":"3.5057472","11":"5.106125","12":"49.30618","13":"0.03843750"},{"1":"2024-02-12","2":"6.388718","3":"92.04518","4":"142.60809","5":"48082.08","6":"48261.07","7":"31.96401","8":"1.021109","9":"31.36970","10":"3.3814815","11":"5.128410","12":"49.42256","13":"0.03946875"},{"1":"2024-02-13","2":"6.687405","3":"96.91003","4":"150.05341","5":"48412.78","6":"48323.77","7":"32.01785","8":"1.021062","9":"31.41045","10":"3.3710060","11":"5.038018","12":"49.04702","13":"0.04275000"},{"1":"2024-02-14","2":"6.821988","3":"98.73867","4":"152.91008","5":"48414.63","6":"48360.86","7":"32.04467","8":"1.021095","9":"31.43456","10":"3.0627855","11":"4.370649","12":"45.72454","13":"0.04190625"},{"1":"2024-02-15","2":"6.459876","3":"93.21440","4":"144.40157","5":"48224.61","6":"48337.46","7":"32.02272","8":"1.021132","9":"31.41935","10":"2.9365944","11":"4.355374","12":"45.63078","13":"0.02221875"},{"1":"2024-02-16","2":"6.178498","3":"88.26443","4":"136.88478","5":"47727.58","6":"48390.64","7":"32.04642","8":"1.021326","9":"31.45392","10":"2.8677624","11":"3.863670","12":"42.73675","13":"6.67005208"},{"1":"2024-02-17","2":"6.257282","3":"88.57334","4":"137.49757","5":"47278.32","6":"48441.02","7":"32.06839","8":"1.021500","9":"31.48666","10":"3.3554856","11":"3.390446","12":"39.64432","13":"8.10693750"},{"1":"2024-02-18","2":"6.535932","3":"91.85375","4":"142.69155","5":"46887.30","6":"48422.08","7":"32.04215","8":"1.021597","9":"31.47435","10":"3.9791621","11":"3.442205","12":"39.94420","13":"11.87940625"},{"1":"2024-02-19","2":"6.849424","3":"95.91558","4":"149.05124","5":"46668.14","6":"48398.11","7":"32.01757","8":"1.021638","9":"31.45877","10":"4.1715791","11":"3.737757","12":"41.81139","13":"17.26025000"},{"1":"2024-02-20","2":"7.023390","3":"98.73919","4":"153.38141","5":"46894.01","6":"48437.95","7":"32.05343","8":"1.021607","9":"31.48467","10":"4.1815971","11":"4.078496","12":"43.84222","13":"12.23401042"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="data-exportation" class="level2">
<h2 class="anchored" data-anchor-id="data-exportation">Data Exportation</h2>
<section id="exporting-processed-data" class="level3">
<h3 class="anchored" data-anchor-id="exporting-processed-data">Exporting Processed Data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>dfs_to_export <span class="ot">&lt;-</span> <span class="fu">list</span>( </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">water_samples_data_tidied =</span> water_samples_data_tidied,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">water_profiles_data_tidied =</span> water_profiles_data_tidied,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">clam_growth_data_tidied =</span> clam_growth_data_tidied,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">oyster_growth_data_tidied =</span> oyster_growth_data_tidied,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">weather_data_tidied =</span> weather_data_tidied,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ksf_data_tidied =</span> ksf_data_tidied</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="fu">imap</span>(dfs_to_export, <span class="sc">~</span> <span class="fu">export_to_csv</span>(.x, .y, <span class="st">"data/tidied"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="generating-data-dictionaries" class="level3">
<h3 class="anchored" data-anchor-id="generating-data-dictionaries">Generating Data Dictionaries</h3>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>